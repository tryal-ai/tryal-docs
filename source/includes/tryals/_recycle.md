# <span class="post">POST</span> /tryals/recycle

## Recycle a previous generated material

> Allows you to recycle a previously generated Tryal.AI material

```shell
#Authorisation headers omitted
curl "https://api.tryal.ai/tryals/recycle"
```

```javascript
// We recommend cross-fetch to write easy HTTP requests
var fetch = require('cross-fetch');

// Promise based request
var promise = fetch('https://api.tryal.ai/tryals/recycle', {
  method: 'post',
  headers: {
    'Content-Type': 'application/json'
    //Authorisation headers omitted
  }, 
  body: JSON.stringify({
    id: "007d3281ec51592e6d2a9b1955d9061e610627a159e1a914702868ca7ef854ba",
  })
}).then(function(res) {
  if (res.status !== 200) {
    //handle failed response
  } else {
    res.json().then(function (result) {
        // print the result of the recycle request
    	console.log(result)
    });
  }
}).catch(function(err) {
  //Handle any errors
});
```

```javascript--ESNext
// We recommend cross-fetch to write easy HTTP requests
import fetch from 'cross-fetch';

const REQUEST_ERROR = {
  message: 'Our request to Tryal.AI failed'
}

async function deleteTryal() {
  try {
    const response = await fetch(`https://api.tryal.ai/tryals/recycle`, {
      method: 'post',
      headers: {
        'Content-Type': 'application/json'
        //Authorisation headers omitted
      },
      body: JSON.stringify({
				id: "007d3281ec51592e6d2a9b1955d9061e610627a159e1a914702868ca7ef854ba",
			})
    });
    if (response.status == 200) {
      const result = await response.json();
      console.log(result);
    } else {
      throw REQUEST_ERROR
    }
  } catch(err) {
    // Do error handling
  }
}
```

> The above command returns a body similar to that generated by the create method

```json
{
  "id": "e0c9e0738c410437ab1cc7793f6fe9402f60cb72975febbb978623fc9c0583cb",
  "keyword": "flamed"
}
```

One of the coolest things Tryal.AI can do from an educational perspective, is recycle the same material, to create new material with the same underlying structure, but different values and contexts for the questions.

This can be used in a number of different settings, for example, you could generate 30 material items, each with the same fundamental question structures, by recycling an initial material, but with values unique to each student in a class. As a result, collaboration in a class takes on a new dimension, because it's no longer "what did you get for question 5" it's, "what did you do to get your answer for question 5".

Recycle allows users to get more mileage out of material they like. 

### HTTP Request

`POST https://api.tryal.ai/tryals/recycle`


### Body Parameters

Parameter | Required | Type | Description 
--------- | ------- | ----- | -----------
`id` | Yes | SHA256 | The ID of the material you wish to recycle

### Billing

Recycle is billed at the same rate as the initial created material. E.g. if you generate a 50 mark material and then recycle it twice, you will be billed a total of 150 marks. E.g. 1 x The initial paper + 2 x The two recycled materials = 3 x 50 marks.

Recycling is subject to same minimum billing criteria of generation. If you recycle a 4 mark material, you'll be build 5 marks for the recycle, same as how you would be billed 5 marks for the initial generation of that 4 mark material.

### Response

- **200**
  - A JSON object containing metadata regarding the Tryal material you've just generated. This is not the PDF copy itself, using the data here you can retrieve the PDF Paper and Mark Scheme as a PDF binary.

Key | Value
--- | -----
keyword | The keyword used to provide entropy during generation
id | A SHA256 hash used to retrieve the PDFs for paper and mark scheme and the metadata. Also used to delete and recycle the material

### Errors
- **500**
  - *GENERATOR_CALL_FAILED* - The generator didn't respond to our API server, this may be indicative of a server
    update or maintenance period. If this problem persists, please contact support and we will investigate.
  - *GENERATOR_FAILED* - Generally indicates that material with the given parameters could not be generated. Typically indicative of a bad generation request, but may be due to failed generation. You will not be billed for any failed generation attempts.
- **400**
  - *INCORRECT_REQUEST_CONTENT* - Content provided was not in a valid format, or was incomplete. In 
    most cases, this means *type is incorrect* e.g. marks is a string, not a number, *something was missing*
    e.g. you asked for a specific material but didn't provide an ID, *something is invalid value*, you gave
    an argument which didn't conform to the required value.
    Note, not all of our server side validation does sense checking, if you send two values which are contradictory
    our server may not recognise this as an incorrect request. Validation is not a substitution for a well formed
    request. Provides *invalid* to show what data it thinks is invalid
  - *MISSING_REQUEST_CONTENT* - Content was specifically missing that was required. Generally speaking this means
    you've missed a request parameter that is explicitly required.
- **401**
  - *MISSING_AUTHENTICATION_HEADERS* - The required authentication headers were not included in the
    request, we recommend checking for typos, or null values in your `tryal-app-id` and `tryal-app-token`
    variables
  - *INVALID_APPLICATION_TOKEN* - The application with the given id `tryal-app-id` does not correspond to
    the token provided, most likely, your ID is correct, however your token is incorrect
- **403**
  - *NO_SUBSCRIPTION* - The account associated with this application does not currently have an active
    subscription, or the billing is in arrears and access has been suspended.
- **404**
  - *APPLICATION_NOT_FOUND* - An application with the given `tryal-app-id` could not be found in our
    currently listed active applications
