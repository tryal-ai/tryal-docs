
<!doctype html>
<html>
  <head>
    <meta charset="utf-8">
    <meta content="IE=edge,chrome=1" http-equiv="X-UA-Compatible">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
    <title>Tryal.AI Develop API</title>

    <style media="screen">
      .highlight table td { padding: 5px; }
.highlight table pre { margin: 0; }
.highlight .gh {
  color: #999999;
}
.highlight .sr {
  color: #f6aa11;
}
.highlight .go {
  color: #888888;
}
.highlight .gp {
  color: #555555;
}
.highlight .gs {
}
.highlight .gu {
  color: #aaaaaa;
}
.highlight .nb {
  color: #f6aa11;
}
.highlight .cm {
  color: #75715e;
}
.highlight .cp {
  color: #75715e;
}
.highlight .c1 {
  color: #75715e;
}
.highlight .cs {
  color: #75715e;
}
.highlight .c, .highlight .ch, .highlight .cd, .highlight .cpf {
  color: #75715e;
}
.highlight .err {
  color: #960050;
}
.highlight .gr {
  color: #960050;
}
.highlight .gt {
  color: #960050;
}
.highlight .gd {
  color: #49483e;
}
.highlight .gi {
  color: #49483e;
}
.highlight .ge {
  color: #49483e;
}
.highlight .kc {
  color: #66d9ef;
}
.highlight .kd {
  color: #66d9ef;
}
.highlight .kr {
  color: #66d9ef;
}
.highlight .no {
  color: #66d9ef;
}
.highlight .kt {
  color: #66d9ef;
}
.highlight .mf {
  color: #ae81ff;
}
.highlight .mh {
  color: #ae81ff;
}
.highlight .il {
  color: #ae81ff;
}
.highlight .mi {
  color: #ae81ff;
}
.highlight .mo {
  color: #ae81ff;
}
.highlight .m, .highlight .mb, .highlight .mx {
  color: #ae81ff;
}
.highlight .sc {
  color: #ae81ff;
}
.highlight .se {
  color: #ae81ff;
}
.highlight .ss {
  color: #ae81ff;
}
.highlight .sd {
  color: #e6db74;
}
.highlight .s2 {
  color: #e6db74;
}
.highlight .sb {
  color: #e6db74;
}
.highlight .sh {
  color: #e6db74;
}
.highlight .si {
  color: #e6db74;
}
.highlight .sx {
  color: #e6db74;
}
.highlight .s1 {
  color: #e6db74;
}
.highlight .s, .highlight .sa, .highlight .dl {
  color: #e6db74;
}
.highlight .na {
  color: #a6e22e;
}
.highlight .nc {
  color: #a6e22e;
}
.highlight .nd {
  color: #a6e22e;
}
.highlight .ne {
  color: #a6e22e;
}
.highlight .nf, .highlight .fm {
  color: #a6e22e;
}
.highlight .vc {
  color: #ffffff;
}
.highlight .nn {
  color: #ffffff;
}
.highlight .ni {
  color: #ffffff;
}
.highlight .bp {
  color: #ffffff;
}
.highlight .vg {
  color: #ffffff;
}
.highlight .vi {
  color: #ffffff;
}
.highlight .nv, .highlight .vm {
  color: #ffffff;
}
.highlight .w {
  color: #ffffff;
}
.highlight {
  color: #ffffff;
}
.highlight .n, .highlight .py, .highlight .nx {
  color: #ffffff;
}
.highlight .nl {
  color: #f92672;
}
.highlight .ow {
  color: #f92672;
}
.highlight .nt {
  color: #f92672;
}
.highlight .k, .highlight .kv {
  color: #f92672;
}
.highlight .kn {
  color: #f92672;
}
.highlight .kp {
  color: #f92672;
}
.highlight .o {
  color: #f92672;
}
    </style>
    <style media="print">
      * {
        -webkit-transition:none!important;
        transition:none!important;
      }
      .highlight table td { padding: 5px; }
.highlight table pre { margin: 0; }
.highlight, .highlight .w {
  color: #586e75;
}
.highlight .err {
  color: #002b36;
  background-color: #dc322f;
}
.highlight .c, .highlight .ch, .highlight .cd, .highlight .cm, .highlight .cpf, .highlight .c1, .highlight .cs {
  color: #657b83;
}
.highlight .cp {
  color: #b58900;
}
.highlight .nt {
  color: #b58900;
}
.highlight .o, .highlight .ow {
  color: #93a1a1;
}
.highlight .p, .highlight .pi {
  color: #93a1a1;
}
.highlight .gi {
  color: #859900;
}
.highlight .gd {
  color: #dc322f;
}
.highlight .gh {
  color: #268bd2;
  background-color: #002b36;
  font-weight: bold;
}
.highlight .k, .highlight .kn, .highlight .kp, .highlight .kr, .highlight .kv {
  color: #6c71c4;
}
.highlight .kc {
  color: #cb4b16;
}
.highlight .kt {
  color: #cb4b16;
}
.highlight .kd {
  color: #cb4b16;
}
.highlight .s, .highlight .sa, .highlight .sb, .highlight .sc, .highlight .dl, .highlight .sd, .highlight .s2, .highlight .sh, .highlight .sx, .highlight .s1 {
  color: #859900;
}
.highlight .sr {
  color: #2aa198;
}
.highlight .si {
  color: #d33682;
}
.highlight .se {
  color: #d33682;
}
.highlight .nn {
  color: #b58900;
}
.highlight .nc {
  color: #b58900;
}
.highlight .no {
  color: #b58900;
}
.highlight .na {
  color: #268bd2;
}
.highlight .m, .highlight .mb, .highlight .mf, .highlight .mh, .highlight .mi, .highlight .il, .highlight .mo, .highlight .mx {
  color: #859900;
}
.highlight .ss {
  color: #859900;
}
    </style>
    <link href="stylesheets/screen-c61a449c.css" rel="stylesheet" media="screen" />
    <link href="stylesheets/print-68c56d0f.css" rel="stylesheet" media="print" />
      <script src="javascripts/all-e9bde216.js"></script>

    <script>
      $(function() { setupCodeCopy(); });
    </script>
  </head>

  <body class="index" data-languages="[&quot;shell&quot;,&quot;javascript&quot;,&quot;javascript--ESNext&quot;]">
    <a href="#" id="nav-button">
      <span>
        NAV
        <img src="images/navbar-cad8cdcb.png" alt="" />
      </span>
    </a>
    <div class="toc-wrapper">
      <img src="images/logo-bba7199a.png" class="logo" alt="" />
        <div class="lang-selector">
              <a href="#" data-language-name="shell">Shell</a>
              <a href="#" data-language-name="javascript">JavaScript</a>
              <a href="#" data-language-name="javascript--ESNext">JavaScript (ESNext)</a>
        </div>
        <div class="search">
          <input type="text" class="search" id="input-search" placeholder="Search">
        </div>
        <ul class="search-results"></ul>
      <ul id="toc" class="toc-list-h1">
          <li>
            <a href="#tryal-ai-develop-api" class="toc-h1 toc-link" data-title="Tryal.AI Develop API">Tryal.AI Develop API</a>
          </li>
          <li>
            <a href="#introduction" class="toc-h1 toc-link" data-title="Introduction">Introduction</a>
          </li>
          <li>
            <a href="#getting-started" class="toc-h1 toc-link" data-title="Getting Started">Getting Started</a>
              <ul class="toc-list-h2">
                  <li>
                    <a href="#signing-up-and-registering-as-a-developer" class="toc-h2 toc-link" data-title="Signing up and Registering as a Developer">Signing up and Registering as a Developer</a>
                  </li>
                  <li>
                    <a href="#subscribing-and-billing" class="toc-h2 toc-link" data-title="Subscribing and Billing">Subscribing and Billing</a>
                  </li>
                  <li>
                    <a href="#setting-up-an-application" class="toc-h2 toc-link" data-title="Setting up an Application">Setting up an Application</a>
                  </li>
              </ul>
          </li>
          <li>
            <a href="#authentication" class="toc-h1 toc-link" data-title="Authentication">Authentication</a>
          </li>
          <li>
            <a href="#api-overview" class="toc-h1 toc-link" data-title="API Overview">API Overview</a>
          </li>
          <li>
            <a href="#tryals-api" class="toc-h1 toc-link" data-title="Tryals API">Tryals API</a>
          </li>
          <li>
            <a href="#post-tryals-create" class="toc-h1 toc-link" data-title="POST /tryals/create"><span class="post">POST</span> /tryals/create</a>
              <ul class="toc-list-h2">
                  <li>
                    <a href="#generate-a-new-tryal-material" class="toc-h2 toc-link" data-title="Generate a new Tryal Material">Generate a new Tryal Material</a>
                  </li>
              </ul>
          </li>
          <li>
            <a href="#get-tryals" class="toc-h1 toc-link" data-title="GET /tryals"><span class="get">GET</span> /tryals</a>
              <ul class="toc-list-h2">
                  <li>
                    <a href="#get-all-tryal-material" class="toc-h2 toc-link" data-title="Get All Tryal Material">Get All Tryal Material</a>
                  </li>
              </ul>
          </li>
          <li>
            <a href="#get-tryals-topics" class="toc-h1 toc-link" data-title="GET /tryals/topics"><span class="get">GET</span> /tryals/topics</a>
              <ul class="toc-list-h2">
                  <li>
                    <a href="#list-all-topics-currently-available-via-tryal-39-s-api" class="toc-h2 toc-link" data-title="List all Topics currently available via Tryal's API">List all Topics currently available via Tryal's API</a>
                  </li>
              </ul>
          </li>
          <li>
            <a href="#get-tryals-meta" class="toc-h1 toc-link" data-title="GET /tryals/meta"><span class="get">GET</span> /tryals/meta</a>
              <ul class="toc-list-h2">
                  <li>
                    <a href="#get-a-specific-tryal-39-s-metadata" class="toc-h2 toc-link" data-title="Get a Specific Tryal's Metadata">Get a Specific Tryal's Metadata</a>
                  </li>
              </ul>
          </li>
          <li>
            <a href="#get-tryals-paper" class="toc-h1 toc-link" data-title="GET /tryals/paper"><span class="get">GET</span> /tryals/paper</a>
              <ul class="toc-list-h2">
                  <li>
                    <a href="#get-a-specific-tryal-pdf-paper" class="toc-h2 toc-link" data-title="Get a specific Tryal PDF Paper">Get a specific Tryal PDF Paper</a>
                  </li>
              </ul>
          </li>
          <li>
            <a href="#get-tryals-markscheme" class="toc-h1 toc-link" data-title="GET /tryals/markscheme"><span class="get">GET</span> /tryals/markscheme</a>
              <ul class="toc-list-h2">
                  <li>
                    <a href="#get-a-specific-tryal-pdf-mark-scheme" class="toc-h2 toc-link" data-title="Get a specific Tryal PDF Mark Scheme">Get a specific Tryal PDF Mark Scheme</a>
                  </li>
              </ul>
          </li>
          <li>
            <a href="#post-tryals-recycle" class="toc-h1 toc-link" data-title="POST /tryals/recycle"><span class="post">POST</span> /tryals/recycle</a>
              <ul class="toc-list-h2">
                  <li>
                    <a href="#recycle-a-previous-generated-material" class="toc-h2 toc-link" data-title="Recycle a previous generated material">Recycle a previous generated material</a>
                  </li>
              </ul>
          </li>
          <li>
            <a href="#delete-tryals" class="toc-h1 toc-link" data-title="DELETE /tryals"><span class="delete">DELETE</span> /tryals</a>
          </li>
          <li>
            <a href="#post-tryals-delete" class="toc-h1 toc-link" data-title="POST /tryals/delete"><span class="post">POST</span> /tryals/delete</a>
              <ul class="toc-list-h2">
                  <li>
                    <a href="#delete-previously-generated-tryal-ai-material" class="toc-h2 toc-link" data-title="Delete previously generated Tryal.AI material">Delete previously generated Tryal.AI material</a>
                  </li>
              </ul>
          </li>
          <li>
            <a href="#configuring-generation" class="toc-h1 toc-link" data-title="Configuring Generation">Configuring Generation</a>
              <ul class="toc-list-h2">
                  <li>
                    <a href="#an-example-of-bad-configuration" class="toc-h2 toc-link" data-title="An example of bad configuration">An example of bad configuration</a>
                  </li>
                  <li>
                    <a href="#generation-errors" class="toc-h2 toc-link" data-title="Generation Errors">Generation Errors</a>
                  </li>
              </ul>
          </li>
          <li>
            <a href="#storage-and-retrieval" class="toc-h1 toc-link" data-title="Storage and Retrieval">Storage and Retrieval</a>
          </li>
          <li>
            <a href="#questions-api-beta" class="toc-h1 toc-link" data-title="Questions API (Beta)">Questions API (Beta)</a>
          </li>
          <li>
            <a href="#get-questions" class="toc-h1 toc-link" data-title="GET /questions"><span class="get">GET</span> /questions</a>
              <ul class="toc-list-h2">
                  <li>
                    <a href="#list-all-questions-available-via-tryal-ai-39-s-questions-api" class="toc-h2 toc-link" data-title="List all Questions available via Tryal.AI's Questions API">List all Questions available via Tryal.AI's Questions API</a>
                  </li>
              </ul>
          </li>
          <li>
            <a href="#post-questions-sample" class="toc-h1 toc-link" data-title="POST /questions/sample"><span class="post">POST</span> /questions/sample</a>
              <ul class="toc-list-h2">
                  <li>
                    <a href="#sample-a-given-questions" class="toc-h2 toc-link" data-title="Sample a given questions">Sample a given questions</a>
                  </li>
              </ul>
          </li>
          <li>
            <a href="#post-questions-create" class="toc-h1 toc-link" data-title="POST /questions/create"><span class="post">POST</span> /questions/create</a>
              <ul class="toc-list-h2">
                  <li>
                    <a href="#create-a-question-from-the-given-id" class="toc-h2 toc-link" data-title="Create a Question from the given ID">Create a Question from the given ID</a>
                  </li>
              </ul>
          </li>
          <li>
            <a href="#manage-api" class="toc-h1 toc-link" data-title="Manage API">Manage API</a>
          </li>
          <li>
            <a href="#get-usage" class="toc-h1 toc-link" data-title="GET /usage"><span class="get">GET</span> /usage</a>
              <ul class="toc-list-h2">
                  <li>
                    <a href="#get-all-usage-for-this-application" class="toc-h2 toc-link" data-title="Get All Usage for this application">Get All Usage for this application</a>
                  </li>
              </ul>
          </li>
          <li>
            <a href="#get-version" class="toc-h1 toc-link" data-title="GET /version"><span class="get">GET</span> /version</a>
              <ul class="toc-list-h2">
                  <li>
                    <a href="#get-the-current-api-version" class="toc-h2 toc-link" data-title="Get the current API version">Get the current API version</a>
                  </li>
              </ul>
          </li>
          <li>
            <a href="#licencing-and-usage" class="toc-h1 toc-link" data-title="Licencing and Usage">Licencing and Usage</a>
          </li>
          <li>
            <a href="#errors" class="toc-h1 toc-link" data-title="Errors">Errors</a>
          </li>
      </ul>
        <ul class="toc-footer">
            <li><a href='https://app.tryal.ai/signup'>Sign Up for a Developer Key</a></li>
            <li><a href='https://github.com/tryal-ai/tryal-docs/issues'>Report an issue with this documentation</a></li>
            <li><a href='https://github.com/slatedocs/slate'>Documentation Powered by Slate</a></li>
        </ul>
    </div>
    <div class="page-wrapper">
      <div class="dark-box"></div>
      <div class="content">
        <h1 id='tryal-ai-develop-api'>Tryal.AI Develop API</h1><h1 id='introduction'>Introduction</h1>
<p>Welcome to the Tryal.AI Developer API! We&#39;re glad you&#39;ve chosen to use Tryal.AI as
your Question and Examinations as a Service provider (QEaaS). Tryal.AI&#39;s API lets
you use our state-of-the-art AI system to generate Maths practice material, at both
the question, and examination level.</p>

<p>As Tryal.AI is a non-deterministic AI based generation system, results are not guaranteed
nor predictable. To help alleviate this, we&#39;ll provide key information and useful advice
on how to achieve the results you&#39;re looking for when making a request to one of our generation
systems. Learning more in <a href="#configuring-generation">configuring generation</a></p>

<aside class="notice">
  Tryal.AI is not strictly non-deterministic, but most of our generation services are non-deterministic 
  by default.
</aside>

<p>All calls which consume your subscription&#39;s usage plan are clearly highlighted, with in-depth explanations
provided on when, how, and what quantity we will bill. Our <a href="#get-usage">usage</a> API allows you to monitor usage for your application, whilst <a href="https://app.tryal.ai">our dashboard</a> allows you to monitor usage across all your applications.</p>
<h1 id='getting-started'>Getting Started</h1><h2 id='signing-up-and-registering-as-a-developer'>Signing up and Registering as a Developer</h2>
<p>Before we begin, you&#39;ll need to:</p>

<ul>
<li><p><a href="https://app.tryal.ai/signup">register</a> an account with our online platform.</p></li>
<li><p>activate your developer account by going to <a href="https://app.tryal.ai/account">accounts</a>.</p></li>
</ul>

<aside class="notice">
  If you already have an active user subscription, you cannot activate developer mode. Please
  contact us if you have this issue.
</aside>
<h2 id='subscribing-and-billing'>Subscribing and Billing</h2>
<ul>
<li>Subscribe for the subscription tier that best suits your needs

<ul>
<li><strong>Basic</strong> - 160,000 Marks per Month, +0.07p per mark after that - <em>£49</em></li>
<li><strong>Standard</strong> - 400,000 Marks per Month, +0.06p per mark after that - <em>£99</em></li>
<li><strong>Advanced</strong> - 800,000 Marks per Month, +0.05p per mark after that - <em>£199</em></li>
</ul></li>
</ul>

<p>All plans are monthly, and allow you to cancel at anytime. When generating material, your usage
is typically equivalent to the number of marks you are generating. As standard GCSE papers 
are between 80 and 100 marks, the basic tier includes between 1,600 to 2,000 papers per month.</p>

<aside class="notice">
  When generating individual questions a minimum billing fee of 5 marks applies, more details
  are included on the <a href="#post-questions-create"><span class="post">post</span> /questions/create</a> documentation section
</aside>
<h2 id='setting-up-an-application'>Setting up an Application</h2>
<ul>
<li>Create a new application on the <a href="https://app.tryal.ai/develop">Develop</a> page and give
it an appropriate name</li>
<li>Make a note of your application ID. We&#39;ll refer to this as <code>&lt;tryal-app-id&gt;</code> throughout, where
you need to use it.</li>
<li>Generate a new application token and save it <a href="https://medium.com/chingu/an-introduction-to-environment-variables-and-how-to-use-them-f602f66d15fa"><strong>somewhere secure</strong></a>, we&#39;ll refer to this
as <code>&lt;tryal-app-token&gt;</code>.</li>
</ul>

<aside class="warning">
  This token is a secret, and can only be generated once. Sharing an application token allows someone to make API calls on your behalf that are billed to your account
</aside>

<p>Your application ID and Application token serve as a way to identify your application with our
server without the need for you to use your password. </p>

<p>For your security, application ID and tokens are scoped. This means that all 
data you can access regarding usage, existing material etc. are only for that application, 
and not for the developer account as a whole. </p>

<p>You can still access your overall usage through our <a href="https://app.tryal.ai/usage">usage dashboard</a>.</p>
<h1 id='authentication'>Authentication</h1>
<blockquote>
<p>To authenticate your requests, you place your Application ID (<code>tryal-app-id</code>) and Token (<code>tryal-app-token</code>) 
in your request headers:</p>
</blockquote>
<div class="highlight"><pre class="highlight shell tab-shell"><code><span class="c"># With shell, you can just pass the correct header with each request</span>
curl <span class="s2">"https://api.tryal.ai/&lt;endpoint&gt;"</span>
  <span class="nt">-H</span> <span class="s2">"tryal-application-id: &lt;tryal-app-id&gt;"</span>
  <span class="nt">-H</span> <span class="s2">"tryal-application-token: &lt;tryal-app-token&gt;"</span>
</code></pre></div><div class="highlight"><pre class="highlight javascript tab-javascript"><code><span class="c1">// We recommend cross-fetch to write easy HTTP requests</span>
<span class="kd">var</span> <span class="nx">fetch</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="dl">'</span><span class="s1">cross-fetch</span><span class="dl">'</span><span class="p">);</span>

<span class="c1">// Promise based request</span>
<span class="kd">var</span> <span class="nx">promise</span> <span class="o">=</span> <span class="nx">fetch</span><span class="p">(</span><span class="dl">'</span><span class="s1">https://api.tryal.ai/&lt;endpoint&gt;</span><span class="dl">'</span><span class="p">,</span> <span class="p">{</span>
  <span class="na">method</span><span class="p">:</span> <span class="dl">'</span><span class="s1">get</span><span class="dl">'</span><span class="p">,</span>
  <span class="na">headers</span><span class="p">:</span> <span class="p">{</span>
    <span class="dl">'</span><span class="s1">Content-Type</span><span class="dl">'</span><span class="p">:</span> <span class="dl">'</span><span class="s1">application/json</span><span class="dl">'</span><span class="p">,</span>
    <span class="dl">'</span><span class="s1">tryal-application-id</span><span class="dl">'</span><span class="p">:</span> <span class="dl">'</span><span class="s1">&lt;tryal-app-id&gt;</span><span class="dl">'</span><span class="p">,</span>
    <span class="dl">'</span><span class="s1">tryal-application-token</span><span class="dl">'</span><span class="p">:</span> <span class="dl">'</span><span class="s1">&lt;tryal-app-token&gt;</span><span class="dl">'</span>
  <span class="p">},</span>
  <span class="na">body</span><span class="p">:</span> <span class="nx">JSON</span><span class="p">.</span><span class="nx">stringify</span><span class="p">({})</span>
<span class="p">}).</span><span class="nx">then</span><span class="p">(</span><span class="kd">function</span><span class="p">(</span><span class="nx">res</span><span class="p">)</span> <span class="p">{</span>
  <span class="k">if</span> <span class="p">(</span><span class="nx">res</span><span class="p">.</span><span class="nx">status</span> <span class="o">!==</span> <span class="mi">200</span><span class="p">)</span> <span class="p">{</span>
    <span class="c1">//handle failed response</span>
  <span class="p">}</span> <span class="k">else</span> <span class="p">{</span>
    <span class="c1">// unpack the response JSON</span>
    <span class="nx">res</span><span class="p">.</span><span class="nx">json</span><span class="p">().</span><span class="nx">then</span><span class="p">(</span><span class="nx">responseBody</span><span class="p">)</span> <span class="p">{</span>
      <span class="c1">// do what you want with the response body</span>
    <span class="p">}</span>
    <span class="c1">// unpack a blob when dealing with PDF</span>
    <span class="nx">res</span><span class="p">.</span><span class="nx">blob</span><span class="p">().</span><span class="nx">then</span><span class="p">(</span><span class="nx">pdfData</span><span class="p">)</span> <span class="p">{</span>

    <span class="p">}</span>
  <span class="p">}</span>
<span class="p">}).</span><span class="k">catch</span><span class="p">(</span><span class="kd">function</span><span class="p">(</span><span class="nx">err</span><span class="p">)</span> <span class="p">{</span>
  <span class="c1">//Handle any errors</span>
<span class="p">});</span>
</code></pre></div><div class="highlight"><pre class="highlight javascript tab-javascript--ESNext"><code><span class="c1">// We recommend cross-fetch to write easy HTTP requests</span>
<span class="k">import</span> <span class="nx">fetch</span> <span class="k">from</span> <span class="dl">'</span><span class="s1">cross-fetch</span><span class="dl">'</span><span class="p">;</span>

<span class="kd">const</span> <span class="nx">REQUEST_ERROR</span> <span class="o">=</span> <span class="p">{</span>
  <span class="na">message</span><span class="p">:</span> <span class="dl">'</span><span class="s1">Our request to Tryal.AI failed</span><span class="dl">'</span>
<span class="p">}</span>

<span class="k">async</span> <span class="kd">function</span> <span class="nx">doSomethingOnTryal</span><span class="p">(</span><span class="nx">endpoint</span><span class="p">,</span> <span class="nx">method</span><span class="p">,</span> <span class="nx">body</span><span class="p">)</span> <span class="p">{</span>
  <span class="k">try</span> <span class="p">{</span>
    <span class="kd">const</span> <span class="nx">response</span> <span class="o">=</span> <span class="k">await</span> <span class="nx">fetch</span><span class="p">(</span><span class="s2">`https://api.tryal.ai/</span><span class="p">${</span><span class="nx">endpoint</span><span class="p">}</span><span class="s2">`</span><span class="p">,</span> <span class="p">{</span>
      <span class="nx">method</span><span class="p">,</span>
      <span class="na">headers</span><span class="p">:</span> <span class="p">{</span>
        <span class="dl">'</span><span class="s1">Content-Type</span><span class="dl">'</span><span class="p">:</span> <span class="dl">'</span><span class="s1">application/json</span><span class="dl">'</span><span class="p">,</span>
        <span class="dl">'</span><span class="s1">tryal-application-id</span><span class="dl">'</span><span class="p">:</span> <span class="dl">'</span><span class="s1">&lt;tryal-app-id&gt;</span><span class="dl">'</span><span class="p">,</span> <span class="c1">// Your App ID goes here</span>
        <span class="dl">'</span><span class="s1">tryal-application-token</span><span class="dl">'</span><span class="p">:</span> <span class="dl">'</span><span class="s1">&lt;tryal-app-token&gt;</span><span class="dl">'</span> <span class="c1">// Your App Token goes here</span>
      <span class="p">},</span>
      <span class="na">body</span><span class="p">:</span> <span class="nx">JSON</span><span class="p">.</span><span class="nx">stringify</span><span class="p">(</span><span class="nx">body</span><span class="p">)</span> <span class="c1">//The body of the request</span>
    <span class="p">});</span>
    <span class="k">if</span> <span class="p">(</span><span class="nx">response</span><span class="p">.</span><span class="nx">status</span> <span class="o">==</span> <span class="mi">200</span><span class="p">)</span> <span class="p">{</span>
      <span class="k">return</span> <span class="k">await</span> <span class="nx">fetch</span><span class="p">.</span><span class="nx">json</span><span class="p">();</span>
      <span class="c1">//or</span>
      <span class="k">return</span> <span class="k">await</span> <span class="nx">fetch</span><span class="p">.</span><span class="nx">blob</span><span class="p">();</span> <span class="c1">// for PDFs</span>
    <span class="p">}</span> <span class="k">else</span> <span class="p">{</span>
      <span class="k">throw</span> <span class="nx">REQUEST_ERROR</span>
    <span class="p">}</span>
  <span class="p">}</span> <span class="k">catch</span><span class="p">(</span><span class="nx">err</span><span class="p">)</span> <span class="p">{</span>
    <span class="c1">// Do error handling</span>
  <span class="p">}</span>
<span class="p">}</span>
</code></pre></div>
<blockquote>
<p>Our API works with any language that supports HTTP calls where you can specify headers.</p>
</blockquote>

<p>Tryal.AI uses your Application ID (<code>tryal-app-id</code>) and Application Token (<code>tryal-app-token</code>) to authenticate
all requests. All requests to our developer API must be authenticated, regardless of whether they hold
secure information or are billable.</p>

<p>Tryal.AI expects for the Application ID and Application Token to be included in all API requests to the server 
in headers as shown:</p>

<p><code>tryal-application-id: &lt;tryal-app-id&gt;</code></p>

<p><code>tryal-application-token: &lt;tryal-app-token&gt;</code></p>

<aside class="notice">
  All requests should be pointed to `https://api.tryal.ai/`, do not use `http` as our server will reject or
  redirect requests to `https`
</aside>
<h1 id='api-overview'>API Overview</h1>
<p>Our API breaks into three major sections</p>

<ul>
<li><a href="#tryals-api"><code>/tryals</code></a> - Allows you to create, retrieve, recycle and remove PDF based examination and question
materials.

<ul>
<li><a href="#post-tryals-create"><span class="post">post</span> /tryals/create</a> Generates a new Tryal.AI material according to your parameters</li>
<li><a href="#get-tryals"><span class="get">get</span> /tryals</a> gets all tryals generated for this application </li>
<li><a href="#get-tryals-topics"><span class="get">get</span> /tryals/topics</a> get a list of currently available topics and subtopics</li>
<li><a href="#get-tryals-meta"><span class="get">get</span> /tryals/meta</a> gets the metadata for a given Tryal ID</li>
<li><a href="#get-tryals-paper"><span class="get">get</span> /tryals/paper</a> retrieves a PDF of the question material in blob form that can either be rendered or forwarded on to a client browser for viewing or download </li>
<li><a href="#get-tryals-markscheme"><span class="get">get</span> /tryals/markscheme</a> retrieves a PDF of the corresponding mark scheme in blob form that can either be rendered or forwarded on to a client browser for viewing or download</li>
<li><a href="#post-tryals-recycle"><span class="post">post</span> /tryals/recycle</a> Recycle allows you to regenerate material with the same question makeup, but different values a contexts. </li>
<li><a href="#post-tryals-delete"><span class="delete">delete</span> /tryals <span class="post">post</span> /tryals/delete</a> deletes a Tryal material record from our database and associated PDF paper and mark scheme material</li>
</ul></li>
<li><a href="#questions-api-beta"><code>/questions</code></a> - Allows you to see, sample and generate our question base, to embed questions in your
site

<ul>
<li><a href="#get-questions"><span class="get">get</span> /questions</a> gets all questions we can generate and supply on an individual basis</li>
<li><a href="#post-questions-sample"><span class="post">post</span> /questions/sample</a> Generate a static sample question to see the kind question Tryal.AI will produce for the given ID</li>
<li><a href="#post-questions-create"><span class="post">post</span> /questions/create</a> Create a new question for the given <code>id</code> and receive a JSON containing question and answer text</li>
</ul></li>
<li><a href="#get-usage"><code>/usage</code></a> - Allows you access and monitor the usage of your application

<ul>
<li><a href="#get-usage"><span class="get">get</span> /usage</a> Gets the usage history for this application</li>
</ul></li>
<li><a href="#get-version"><code>/version</code></a> - Allows you to see the current operating version of the server serving your requests

<ul>
<li><a href="#get-version"><span class="get">get</span> /version</a> Gets the current version of the API being served</li>
</ul></li>
</ul>
<h1 id='tryals-api'>Tryals API</h1>
<p>Our Tryals API allows you to generate our service&#39;s AI to generate question material and mark scheme PDFs, programmatically. Then distribute them to your users under licence, for them to use as practice material. Our Tryals API is designed to expose the most useful features of our underlying core generation system in an easy to use format.</p>

<p>Although Tryal.AI was initially designed to generate GCSE mock exams, it is capable of so much more in terms of material generation. That said, to stay true to our initial goal, most default options will be configured to create a realistic GCSE experience. Not all material you generate necessarily calls for this. Consider reading the section on <a href="#configuring-generation">configuring generation</a>, and our <a href="https://blog.tryal.ai">blog</a>. </p>

<aside class="notice">
    We refer to our material as a Tryal (read as trial) or Tryals, as they can vary wildly depending on how you use the generator and this is a good way to encompass the general concept of any material produced by Tryal.AI
</aside>

<p>Most behaviours available on our web platform can be replicated via our API, and even some things our web platform can&#39;t do. Below we detail a complex flow which takes you through each of the end points and how we generally view the generation, retrieval and recycling flow.</p>

<ol>
<li><p>You create a new Tryal via <a href="#post-tryals-create"><span class="post">post</span> /tryals/create</a>
This has lots of configuration and very few required options. You may choose to allow your users to access and control as many or as few of these options as you like, or even dynamically reconfigure options as they progress through configuring their material</p></li>
<li><p>If the generator can produce the material you requested, it&#39;ll return an <code>id</code> which can then be used to retrieve PDFs of both the paper and the mark scheme via <a href="#get-tryals-paper"><span class="get">get</span> /tryals/paper</a> <a href="#get-tryals-markscheme"><span class="get">get</span> /tryals/markscheme</a>, which retrieve papers and mark schemes for the <code>id</code> given respectively.</p></li>
<li><p>If you want to retrieve data about the material later, you can use <a href="#get-tryals-meta"><span class="get">get</span> /tryals/meta</a></p></li>
<li><p>If you want to create a Try and Repeat flow for a user, where they repeat material with the same structure, but different values, you might consider using our <a href="#post-tryals-recycle"><span class="post">post</span> /tryals/recycle</a></p></li>
<li><p>If you want to get an overview of all the material generated by your application (for the purposes of monitoring) you can use <a href="#get-tryals"><span class="get">get</span> /tryals</a></p></li>
<li><p>You can delete a previous generated material from our database, and all associated material, by using the <a href="#delete-tryals"><span class="delete">delete</span> /tryals or <span class="post">post</span> /tryals/delete</a></p></li>
</ol>
<h1 id='post-tryals-create'><span class="post">POST</span> /tryals/create</h1><h2 id='generate-a-new-tryal-material'>Generate a new Tryal Material</h2><div class="highlight"><pre class="highlight shell tab-shell"><code><span class="c">#Authorisation headers omitted</span>
curl <span class="s2">"https://api.tryal.ai/tryals/create"</span>
  <span class="nt">-H</span> <span class="s2">"Content-Type: application/json"</span>
  <span class="nt">-d</span> <span class="s1">'{}'</span>
<span class="c">#See example JSON body below</span>
</code></pre></div><div class="highlight"><pre class="highlight javascript tab-javascript"><code><span class="c1">// We recommend cross-fetch to write easy HTTP requests</span>
<span class="kd">var</span> <span class="nx">fetch</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="dl">'</span><span class="s1">cross-fetch</span><span class="dl">'</span><span class="p">);</span>

<span class="kd">var</span> <span class="nx">body</span> <span class="o">=</span> <span class="p">{</span>
  <span class="c1">//See below for an example JSON body</span>
<span class="p">};</span>

<span class="c1">// Promise based request</span>
<span class="kd">var</span> <span class="nx">promise</span> <span class="o">=</span> <span class="nx">fetch</span><span class="p">(</span><span class="dl">'</span><span class="s1">https://api.tryal.ai/tryals/create</span><span class="dl">'</span><span class="p">,</span> <span class="p">{</span>
  <span class="na">method</span><span class="p">:</span> <span class="dl">'</span><span class="s1">post</span><span class="dl">'</span><span class="p">,</span>
  <span class="na">headers</span><span class="p">:</span> <span class="p">{</span>
    <span class="dl">'</span><span class="s1">Content-Type</span><span class="dl">'</span><span class="p">:</span> <span class="dl">'</span><span class="s1">application/json</span><span class="dl">'</span>
    <span class="c1">//Authorisation headers omitted</span>
  <span class="p">},</span> 
  <span class="na">body</span><span class="p">:</span> <span class="nx">JSON</span><span class="p">.</span><span class="nx">stringify</span><span class="p">(</span><span class="nx">body</span><span class="p">)</span>
<span class="p">}).</span><span class="nx">then</span><span class="p">(</span><span class="kd">function</span><span class="p">(</span><span class="nx">res</span><span class="p">)</span> <span class="p">{</span>
  <span class="k">if</span> <span class="p">(</span><span class="nx">res</span><span class="p">.</span><span class="nx">status</span> <span class="o">!==</span> <span class="mi">200</span><span class="p">)</span> <span class="p">{</span>
    <span class="c1">//handle failed response</span>
  <span class="p">}</span> <span class="k">else</span> <span class="p">{</span>
    <span class="c1">// unpack the response JSON</span>
    <span class="nx">res</span><span class="p">.</span><span class="nx">json</span><span class="p">().</span><span class="nx">then</span><span class="p">(</span><span class="nx">responseBody</span><span class="p">)</span> <span class="p">{</span>
      <span class="c1">//Creates output as shown below</span>
      <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">responseBody</span><span class="p">)</span>
    <span class="p">}</span>
  <span class="p">}</span>
<span class="p">}).</span><span class="k">catch</span><span class="p">(</span><span class="kd">function</span><span class="p">(</span><span class="nx">err</span><span class="p">)</span> <span class="p">{</span>
  <span class="c1">//Handle any errors</span>
<span class="p">});</span>
</code></pre></div><div class="highlight"><pre class="highlight javascript tab-javascript--ESNext"><code><span class="c1">// We recommend cross-fetch to write easy HTTP requests</span>
<span class="k">import</span> <span class="nx">fetch</span> <span class="k">from</span> <span class="dl">'</span><span class="s1">cross-fetch</span><span class="dl">'</span><span class="p">;</span>

<span class="kd">const</span> <span class="nx">REQUEST_ERROR</span> <span class="o">=</span> <span class="p">{</span>
  <span class="na">message</span><span class="p">:</span> <span class="dl">'</span><span class="s1">Our request to Tryal.AI failed</span><span class="dl">'</span>
<span class="p">}</span>

<span class="k">async</span> <span class="kd">function</span> <span class="nx">generateTryal</span><span class="p">(</span><span class="nx">body</span><span class="p">)</span> <span class="p">{</span>
  <span class="k">try</span> <span class="p">{</span>
    <span class="kd">const</span> <span class="nx">response</span> <span class="o">=</span> <span class="k">await</span> <span class="nx">fetch</span><span class="p">(</span><span class="s2">`https://api.tryal.ai/tryals/create`</span><span class="p">,</span> <span class="p">{</span>
      <span class="na">method</span><span class="p">:</span> <span class="dl">'</span><span class="s1">post</span><span class="dl">'</span><span class="p">,</span>
      <span class="na">headers</span><span class="p">:</span> <span class="p">{</span>
        <span class="dl">'</span><span class="s1">Content-Type</span><span class="dl">'</span><span class="p">:</span> <span class="dl">'</span><span class="s1">application/json</span><span class="dl">'</span>
        <span class="c1">//Authorisation headers omitted</span>
      <span class="p">},</span>
      <span class="na">body</span><span class="p">:</span> <span class="nx">JSON</span><span class="p">.</span><span class="nx">stringify</span><span class="p">(</span><span class="nx">body</span><span class="p">)</span> <span class="c1">//see below for an example request body</span>
    <span class="p">});</span>
    <span class="k">if</span> <span class="p">(</span><span class="nx">response</span><span class="p">.</span><span class="nx">status</span> <span class="o">==</span> <span class="mi">200</span><span class="p">)</span> <span class="p">{</span>
      <span class="c1">//Produces result shown</span>
      <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="k">await</span> <span class="nx">response</span><span class="p">.</span><span class="nx">json</span><span class="p">());</span>
    <span class="p">}</span> <span class="k">else</span> <span class="p">{</span>
      <span class="k">throw</span> <span class="nx">REQUEST_ERROR</span>
    <span class="p">}</span>
  <span class="p">}</span> <span class="k">catch</span><span class="p">(</span><span class="nx">err</span><span class="p">)</span> <span class="p">{</span>
    <span class="c1">// Do error handling</span>
  <span class="p">}</span>
<span class="p">}</span>
</code></pre></div>
<blockquote>
<p>The JSON below shows an example body, with every configurable option</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
    </span><span class="nl">"board"</span><span class="p">:</span><span class="w"> </span><span class="s2">"edexcel"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"level"</span><span class="p">:</span><span class="w"> </span><span class="s2">"higher"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"keyword"</span><span class="p">:</span><span class="w"> </span><span class="s2">"severally"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"marks"</span><span class="p">:</span><span class="w"> </span><span class="mi">80</span><span class="p">,</span><span class="w">
    </span><span class="nl">"no_of_questions"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="err">//alternative</span><span class="w"> </span><span class="err">to</span><span class="w"> </span><span class="err">marks</span><span class="w">
    </span><span class="nl">"is_calculator"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
    </span><span class="err">//Visual</span><span class="w"> </span><span class="err">info</span><span class="w">
    </span><span class="nl">"cover"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
    </span><span class="nl">"whitespace"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
    </span><span class="nl">"graphics"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
    </span><span class="nl">"markstable"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
    </span><span class="err">//configuration</span><span class="w"> </span><span class="err">info</span><span class="w">
    </span><span class="nl">"position"</span><span class="p">:</span><span class="w"> </span><span class="s2">"all"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"repeat"</span><span class="p">:</span><span class="w"> </span><span class="s2">"off"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"share"</span><span class="p">:</span><span class="w"> </span><span class="s2">"default"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"tolerance"</span><span class="p">:</span><span class="w"> </span><span class="mi">2</span><span class="p">,</span><span class="w">
    </span><span class="err">//topic</span><span class="w"> </span><span class="err">info</span><span class="w">
    </span><span class="nl">"inclusive"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
    </span><span class="nl">"exclude"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nl">"algebra"</span><span class="p">:</span><span class="w"> </span><span class="s2">"all"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"numbers"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="s2">"fdp"</span><span class="p">]</span><span class="w">
    </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<blockquote>
<p>The JSON body below shows an example response from Tryal.AI</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"3377312e51895bac154c1d9f3d4d7a413e7cd4558ad42cc698e69df78a5cf7a9"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"keyword"</span><span class="p">:</span><span class="w"> </span><span class="s2">"squaws"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<p>This method is used to generate a new Tryal.AI Material. Tryal.AI not only generates exam papers and mark schemes but any material you really desire. By default, Tryal material requires only two values <code>board</code> and <code>level</code>. Additional options and what they control are documented below.</p>
<h3 id='http-request'>HTTP Request</h3>
<p><code>POST https://api.tryal.ai/tryals/create</code></p>
<h3 id='request-body'>Request Body</h3>
<table><thead>
<tr>
<th>Argument</th>
<th>Type</th>
<th>Required (default)</th>
<th>Valid Values</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><code>board</code></td>
<td>string</td>
<td>Yes</td>
<td><code>[&#39;edexcel&#39;]</code></td>
<td>The board for which questions should be targeted. Currently Edexcel is our only supported board</td>
</tr>
<tr>
<td><code>level</code></td>
<td>string</td>
<td>Yes</td>
<td><code>[&#39;foundation&#39;, &#39;higher&#39;]</code></td>
<td>The level for which questions should be targeted</td>
</tr>
<tr>
<td><code>keyword</code></td>
<td>string</td>
<td>No (none)</td>
<td>Any Alphanumeric</td>
<td>The keyword used for entropy, and printed on the front of the paper. The same keyword with identical configuration should always produce the same result</td>
</tr>
<tr>
<td><code>marks</code></td>
<td>integer</td>
<td>No (80)</td>
<td><code>10</code> to <code>200</code></td>
<td>The number of marks the material should consist of. Note that the chance of generation failure increases as you reach both extremes. <strong>mutually exclusive with <code>no_of_questions</code>, use one or the other</strong></td>
</tr>
<tr>
<td><code>no_of_questions</code> or <code>quantity</code></td>
<td>integer</td>
<td>No (none)</td>
<td><code>1</code> to <code>50</code></td>
<td>The number of questions the material should consist of. Note that chance of generation failure increases as you reach both extremes. <strong>mutually exclusive with <code>marks</code>, use one or the other</strong></td>
</tr>
<tr>
<td><code>is_calculator</code></td>
<td>boolean</td>
<td>No (true)</td>
<td>~</td>
<td>Indicates whether material should be targeted for calculator or non-calculator students</td>
</tr>
<tr>
<td><code>cover</code></td>
<td>boolean</td>
<td>No (true)</td>
<td>~</td>
<td>indicates if a cover page should be placed on the front. Note, this does not remove copyright notices from footers. Please see <a href="#licencing-and-usage">Usage and Licensing</a>.</td>
</tr>
<tr>
<td><code>whitespace</code></td>
<td>boolean</td>
<td>No (true)</td>
<td>~</td>
<td>indicates if whitespace should be included between questions. Questions that use graphical drawing space (such as graph paper) will not be affected by this option</td>
</tr>
<tr>
<td><code>markstable</code></td>
<td>boolean</td>
<td>No (true)</td>
<td>~</td>
<td>indicates if a marks table should be included at the start. A marks table will be printed regardless of the cover if this is on. This is useful when producing papers where the number of questions means the marks table needs to be placed on a separate page (e.g. a lot of questions)</td>
</tr>
<tr>
<td><code>position</code></td>
<td>string</td>
<td>No (&#39;all&#39;)</td>
<td>either <code>all</code> or <code>q1/q2</code> where <code>q1</code> and <code>q2</code> are digits</td>
<td>A string indicating what position in a GCSE paper questions should be taken from.</td>
</tr>
<tr>
<td><code>repeat</code></td>
<td>string</td>
<td>No (&#39;off&#39;)</td>
<td><code>[&#39;off&#39;, &#39;2mol&#39;, &#39;ssdd&#39;, &#39;all&#39;]</code></td>
<td>Indicates whether a question structure can be repeated more than once. See below for more info.</td>
</tr>
<tr>
<td><code>share</code></td>
<td>string</td>
<td>No (&#39;default&#39;)</td>
<td><code>[&#39;default&#39;, &#39;even&#39;, &#39;off&#39;]</code></td>
<td>Indicates how major topics should be shared across the material. See below for more info.</td>
</tr>
<tr>
<td><code>tolerance</code></td>
<td>integer</td>
<td>No (2)</td>
<td>value between <code>2</code> and <code>9</code></td>
<td>Indicates how much margin of error there is when splitting marks between topic share.</td>
</tr>
<tr>
<td><code>inclusive</code></td>
<td>boolean</td>
<td>No (false)</td>
<td>~</td>
<td>Indicates whether to inclusively or exclusively filter topics excluded.</td>
</tr>
<tr>
<td><code>exclude</code></td>
<td>Array</td>
<td>No ([])</td>
<td>see exclude for details</td>
<td>Indicates which topics and subtopics should be excluded. See section on exclude below</td>
</tr>
</tbody></table>

<aside class="warning">
  It's not possible for us to accurately validate your request server side before we attempt generation. Certain configurations of a generator call with always fail. For more info, see <a href="#configuring-generation">configuring generation</a>
</aside>
<h3 id='position'>Position</h3>
<p>Position allows you to capture a specific difficulty, by saying e.g. <code>1/10</code> any question that would normally be between question <code>1</code> and question <code>10</code> on a GCSE paper. Note argument must satisfy <code>q1 &lt; q2</code> and the narrower the range chosen, the more likely generation will fail.  </p>

<p>All questions are marked as lying between question number <code>1</code> to <code>30</code>. Of course, as most papers never run to question <code>30</code> but every paper has a question <code>1</code> there&#39;s a natural increase in availability as your range covers lower question numbers.</p>

<p>Additionally, every question has a different question number for both <code>higher</code> and <code>foundation</code> (with the exception of questions that would only naturally appear on the <code>foundation</code> or <code>higher</code> spec)</p>
<h3 id='repeat'>Repeat</h3>
<p>Counter-intuitively, repeat does not mean repeating the same question, it means repeating the same structure with new values and possibly new contexts. Additionally the underlying calculations may vary slightly. Controlling this option appropriately is important for all papers</p>

<aside class="notice">
  A mock exam paper typically won't want to repeat the same question style more than once, but a worksheet covering solving algebra, may want to repeat the same question with different values several times
</aside>

<p>Tryal.AI also recognises Same Style, Different Deep Structure, <a href="https://ssddproblems.com/">a concept developed by Craig Barton</a>, and filters mock material for these as well. In essence, if a question has the same style, even if the underlying structure is different, we won&#39;t include it twice.</p>

<p>Repeat offers four options</p>

<ul>
<li><em>off</em> - Do not repeat any question structure more than once, regardless of whether the structure underneath is different.</li>
<li><em>2mol</em> - &quot;2 Marks or Less&quot;, questions may be repeated if they are questions consisting of 2 marks or less. This is useful when generating worksheets covering fundamentals e.g. &quot;write the prime factors of x&quot;. No repeat restrictions apply to any questions above 2 marks.</li>
<li><em>ssdd</em> - &quot;Same Style, Different Deep Structure&quot;, questions which have the same surface but different deep structure may be repeated, however no same structure may be repeated more than once.</li>
<li><em>all</em> - Any question may be repeated more than once. Note that this turns off all checks on repeating, and doesn&#39;t even ensure that if there are two options it at least uses both. This is literally chaos theory questioning.</li>
</ul>
<h3 id='share'>Share</h3>
<p>Controls how major topics are shared across the material generated. To achieve a realistic mock experience, Tryal.AI follows standard syllabus breakdowns. These are</p>

<table><thead>
<tr>
<th>Level</th>
<th>Algebra</th>
<th>Geometry</th>
<th>Proportions</th>
<th>Numbers</th>
<th>Statistics</th>
</tr>
</thead><tbody>
<tr>
<td>foundation</td>
<td>20%</td>
<td>15%</td>
<td>25%</td>
<td>25%</td>
<td>15%</td>
</tr>
<tr>
<td>higher</td>
<td>30%</td>
<td>20%</td>
<td>20%</td>
<td>15%</td>
<td>15%</td>
</tr>
</tbody></table>

<p>Note, that Tryal.AI has a <code>tolerance</code> which defines our acceptable margin of error. By default this tolerance is set to <code>2</code> as in 2 marks over or under the required share for this topic. Where a question consists of multiple major topics, as is the case in some harder or wordier questions, we cut marks in half and equally proportion them to each major topic.</p>

<p>When entire topics are excluded, share is maintained as if by ratio e.g. a foundation excluding Algebra would be in the ratio <code>15:25:25:15</code> for the remaining topics. </p>

<aside class="notice">
  Topic share will be ignored when using the `quantity` or `no_of_questions` parameter
</aside>

<p>Of course, when creating end of topic tests, or worksheets, you may want a more even distribution across topics, to get better coverage Tryal.AI provides options for how topic share works</p>

<ul>
<li><em>default</em> - Standard GCSE pattern as documented above</li>
<li><em>even</em> - Even distribution across all topics that have been included</li>
<li><em>off</em> - No restriction applied on how topics are shared, note that as our question base increases, the <code>off</code> option will tend towards behaving like <code>even</code></li>
</ul>

<p><code>tolerance</code> provides a way to control margin of error, tolerance can be set between <code>2</code> and <code>9</code>, tolerance lower than <code>2</code> has been shown to frequently fail generation.</p>
<h3 id='exclude'>Exclude</h3>
<blockquote>
<p>This is correct at time of publication, use <a href="#get-tryals-topics"><code>/tryals/topics</code></a> to get an up to date list or see the Generator page on the Tryal.AI dashboard</p>
</blockquote>
<div class="highlight"><pre class="highlight yaml tab-yaml"><code><span class="na">algebra</span><span class="pi">:</span> 
  <span class="pi">-</span> <span class="s">express</span>
  <span class="pi">-</span> <span class="s">simplify</span>
  <span class="pi">-</span> <span class="s">solve</span>
  <span class="pi">-</span> <span class="s">expand</span>
  <span class="pi">-</span> <span class="s">factorise</span>
  <span class="pi">-</span> <span class="s">rearrange</span>
  <span class="pi">-</span> <span class="s">formula</span>
  <span class="pi">-</span> <span class="s">suvat</span>
  <span class="pi">-</span> <span class="s">inequalities</span>
  <span class="pi">-</span> <span class="s">lineequations</span>
  <span class="pi">-</span> <span class="s">sketch</span>
  <span class="pi">-</span> <span class="s">fractions</span>
  <span class="pi">-</span> <span class="s">quadratics</span>
  <span class="pi">-</span> <span class="s">functions</span>
  <span class="pi">-</span> <span class="s">simultaneous</span>
<span class="na">geometry</span><span class="pi">:</span>
  <span class="pi">-</span> <span class="s">trigonometry</span>
  <span class="pi">-</span> <span class="s">transformations</span>
  <span class="pi">-</span> <span class="s">loci</span>
  <span class="pi">-</span> <span class="s">area</span>
  <span class="pi">-</span> <span class="s">measure</span>
  <span class="pi">-</span> <span class="s">algebraic</span>
  <span class="pi">-</span> <span class="s">sdt</span>
  <span class="pi">-</span> <span class="s">units</span>
  <span class="pi">-</span> <span class="s">circletheorems</span>
  <span class="pi">-</span> <span class="s">vectors</span>
  <span class="pi">-</span> <span class="s">anglerules</span>
  <span class="pi">-</span> <span class="s">mechanics</span>
<span class="na">numbers</span><span class="pi">:</span>
  <span class="pi">-</span> <span class="s">primes</span>
  <span class="pi">-</span> <span class="s">sequences</span>
  <span class="pi">-</span> <span class="s">money</span>
  <span class="pi">-</span> <span class="s">general</span>
  <span class="pi">-</span> <span class="s">indices</span>
  <span class="pi">-</span> <span class="s">fdp</span>
  <span class="pi">-</span> <span class="s">calculator</span>
  <span class="pi">-</span> <span class="s">time</span>
  <span class="pi">-</span> <span class="s">hcflcm</span>
  <span class="pi">-</span> <span class="s">rounding</span>
  <span class="pi">-</span> <span class="s">settheory</span>
  <span class="pi">-</span> <span class="s">estimate</span>
  <span class="pi">-</span> <span class="s">standardform</span>
  <span class="pi">-</span> <span class="s">factors</span>
  <span class="pi">-</span> <span class="s">proof</span>
  <span class="pi">-</span> <span class="s">surds</span>
<span class="na">proportions</span><span class="pi">:</span>
  <span class="pi">-</span> <span class="s">compound</span>
  <span class="pi">-</span> <span class="s">fdp</span>
  <span class="pi">-</span> <span class="s">ratio</span>
  <span class="pi">-</span> <span class="s">conversion</span>
  <span class="pi">-</span> <span class="s">food</span>
  <span class="pi">-</span> <span class="s">scale</span>
  <span class="pi">-</span> <span class="s">inverse</span>
<span class="na">statistics</span><span class="pi">:</span>
  <span class="pi">-</span> <span class="s">data</span>
  <span class="pi">-</span> <span class="s">combinatorics</span>
  <span class="pi">-</span> <span class="s">probability</span>
  <span class="pi">-</span> <span class="s">charts</span>
  <span class="pi">-</span> <span class="s">averages</span> 
</code></pre></div>
<p>Arguably the most powerful feature of Tryal.AI is the ability to filter what topics and subtopics appear on the material you generate. This allows an unparalleled level of control over the material Tryal.AI can produce. Information on currently available topics is retrievable via the <a href="#get-tryals-topics"><span class="get">get</span> /tryals/topics</a> endpoint. This endpoint will return a listing of each topic as a key of the JSON object, and each subtopic as an array there in.</p>

<p>With these topic and subtopics you can now indicate what topics you wish to exclude. To exclude an entire topic, simply include it in the array for exclude e.g.</p>

<p><code>&quot;exclude&quot;: [&quot;algebra&quot;, &quot;numbers/primes&quot;]</code></p>

<p>will exclude the entire algebra catalog of questions and will exclude the subtopic <code>primes</code> from the overall numbers syllabus. By default, we assume all topics should be included. You only ever need to tell Tryal.AI what you <strong>do not</strong> want.</p>

<p>The <code>inclusive</code> option alters how Tryal.AI decides what topics to exclude. The two behaviours are described below</p>

<ul>
<li><code>inclusive: false</code> - Tryal.AI will exclude any question that contains at least one of the excluded topics or subtopics. E.g. in the scenario above a question marked as both <code>algebra</code> and <code>geometry</code> would be excluded as it contains some element of <code>algebra</code></li>
<li><code>inclusive: true</code> - Tryal.AI will exclude only questions where all of its topics or subtopics have been excluded. E.g. in the above example, a question marked <code>algebra</code> and <code>geometry</code> would be included because <code>geometry</code> has not been exclude. </li>
</ul>

<p><code>inclusive</code> is designed to broaden question horizons when dealing with narrower definitions. For example, an end of topic test on <code>algebra</code> shouldn&#39;t necessarily be narrowly scoped to <code>algebra</code> instead it should <code>algebra</code> related material.</p>
<h3 id='billing'>Billing</h3>
<p>Tryal material generated on this endpoint is billed at the number of marks on the material. E.g. if you generate a 50 mark material, we will deduct 50 marks from your included amount and then bill into your overage once you exceed your included amount.</p>

<p>If you generate based on <code>quantity</code> or <code>no_of_questions</code> we will bill based on the resulting marks included on that material. As a result, billing for <code>quantity</code> or <code>no_of_questions</code> can vary.</p>

<p>A minimum billing amount applies. If the material generated is less than 5 marks, we will bill 5 marks only. This minimum billing does not apply if you generate material above 5 marks.</p>

<aside class="success">
  Tryal.AI does not bill for failed generation attempts
</aside>
<h3 id='response'>Response</h3>
<ul>
<li><strong>200</strong>

<ul>
<li>A JSON object containing metadata regarding the Tryal material you&#39;ve just generated. This is not the PDF copy itself, using the data here you can retrieve the PDF Paper and Mark Scheme as a PDF binary</li>
</ul></li>
</ul>

<table><thead>
<tr>
<th>Key</th>
<th>Value</th>
</tr>
</thead><tbody>
<tr>
<td>keyword</td>
<td>The keyword used to provide entropy during generation</td>
</tr>
<tr>
<td>id</td>
<td>A SHA256 hash used to retrieve the PDFs for paper and mark scheme and the metadata. Also used to delete and recycle the material</td>
</tr>
</tbody></table>
<h3 id='errors'>Errors</h3>
<ul>
<li><strong>500</strong>

<ul>
<li><em>GENERATOR_CALL_FAILED</em> - The generator didn&#39;t respond to our API server, this may be indicative of a server
update or maintenance period. If this problem persists, please contact support and we will investigate.</li>
<li><em>GENERATOR_FAILED</em> - Generally indicates that material with the given parameters could not be generated. Typically indicative of a bad generation request, but may be due to failed generation. You will not be billed for any failed generation attempts.</li>
</ul></li>
<li><strong>400</strong>

<ul>
<li><em>INCORRECT_REQUEST_CONTENT</em> - Content provided was not in a valid format, or was incomplete. In 
most cases, this means <em>type is incorrect</em> e.g. marks is a string, not a number, <em>something was missing</em>
e.g. you asked for a specific material but didn&#39;t provide an ID, <em>something is invalid value</em>, you gave
an argument which didn&#39;t conform to the required value.
Note, not all of our server side validation does sense checking, if you send two values which are contradictory
our server may not recognise this as an incorrect request. Validation is not a substitution for a well formed
request. Provides <em>invalid</em> to show what data it thinks is invalid</li>
<li><em>MISSING_REQUEST_CONTENT</em> - Content was specifically missing that was required. Generally speaking this means
you&#39;ve missed a request parameter that is explicitly required.</li>
</ul></li>
<li><strong>401</strong>

<ul>
<li><em>MISSING_AUTHENTICATION_HEADERS</em> - The required authentication headers were not included in the
request, we recommend checking for typos, or null values in your <code>tryal-app-id</code> and <code>tryal-app-token</code>
variables</li>
<li><em>INVALID_APPLICATION_TOKEN</em> - The application with the given id <code>tryal-app-id</code> does not correspond to
the token provided, most likely, your ID is correct, however your token is incorrect</li>
</ul></li>
<li><strong>403</strong>

<ul>
<li><em>NO_SUBSCRIPTION</em> - The account associated with this application does not currently have an active
subscription, or the billing is in arrears and access has been suspended.</li>
</ul></li>
<li><strong>404</strong>

<ul>
<li><em>APPLICATION_NOT_FOUND</em> - An application with the given <code>tryal-app-id</code> could not be found in our
currently listed active applications</li>
</ul></li>
</ul>
<h1 id='get-tryals'><span class="get">GET</span> /tryals</h1><h2 id='get-all-tryal-material'>Get All Tryal Material</h2>
<blockquote>
<p>Allows you to retrieve records of previously generated Tryal.AI material</p>
</blockquote>
<div class="highlight"><pre class="highlight shell tab-shell"><code><span class="c">#Authorisation headers omitted</span>
curl <span class="s2">"https://api.tryal.ai/tryals"</span>
</code></pre></div><div class="highlight"><pre class="highlight javascript tab-javascript"><code><span class="c1">// We recommend cross-fetch to write easy HTTP requests</span>
<span class="kd">var</span> <span class="nx">fetch</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="dl">'</span><span class="s1">cross-fetch</span><span class="dl">'</span><span class="p">);</span>

<span class="c1">// Promise based request</span>
<span class="kd">var</span> <span class="nx">promise</span> <span class="o">=</span> <span class="nx">fetch</span><span class="p">(</span><span class="dl">'</span><span class="s1">https://api.tryal.ai/tryals</span><span class="dl">'</span><span class="p">,</span> <span class="p">{</span>
  <span class="na">method</span><span class="p">:</span> <span class="dl">'</span><span class="s1">get</span><span class="dl">'</span><span class="p">,</span>
  <span class="na">headers</span><span class="p">:</span> <span class="p">{</span>
    <span class="dl">'</span><span class="s1">Content-Type</span><span class="dl">'</span><span class="p">:</span> <span class="dl">'</span><span class="s1">application/json</span><span class="dl">'</span>
    <span class="c1">//Authorisation headers omitted</span>
  <span class="p">},</span> 
  <span class="na">body</span><span class="p">:</span> <span class="nx">JSON</span><span class="p">.</span><span class="nx">stringify</span><span class="p">({</span>
    <span class="na">before</span><span class="p">:</span> <span class="k">new</span> <span class="nb">Date</span><span class="p">(),</span>
    <span class="na">after</span><span class="p">:</span> <span class="dl">"</span><span class="s2">2020-09-14T15:30:00.000Z</span><span class="dl">"</span><span class="p">,</span>
    <span class="na">board</span><span class="p">:</span> <span class="dl">"</span><span class="s2">aqa</span><span class="dl">"</span><span class="p">,</span>
    <span class="na">level</span><span class="p">:</span> <span class="dl">"</span><span class="s2">foundation</span><span class="dl">"</span><span class="p">,</span>
  <span class="p">})</span>
<span class="p">}).</span><span class="nx">then</span><span class="p">(</span><span class="kd">function</span><span class="p">(</span><span class="nx">res</span><span class="p">)</span> <span class="p">{</span>
  <span class="k">if</span> <span class="p">(</span><span class="nx">res</span><span class="p">.</span><span class="nx">status</span> <span class="o">!==</span> <span class="mi">200</span><span class="p">)</span> <span class="p">{</span>
    <span class="c1">//handle failed response</span>
  <span class="p">}</span> <span class="k">else</span> <span class="p">{</span>
    <span class="c1">// unpack the response JSON</span>
    <span class="nx">res</span><span class="p">.</span><span class="nx">json</span><span class="p">().</span><span class="nx">then</span><span class="p">(</span><span class="nx">responseBody</span><span class="p">)</span> <span class="p">{</span>
      <span class="c1">//Creates output as shown below</span>
      <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">responseBody</span><span class="p">)</span>
    <span class="p">}</span>
  <span class="p">}</span>
<span class="p">}).</span><span class="k">catch</span><span class="p">(</span><span class="kd">function</span><span class="p">(</span><span class="nx">err</span><span class="p">)</span> <span class="p">{</span>
  <span class="c1">//Handle any errors</span>
<span class="p">});</span>
</code></pre></div><div class="highlight"><pre class="highlight javascript tab-javascript--ESNext"><code><span class="c1">// We recommend cross-fetch to write easy HTTP requests</span>
<span class="k">import</span> <span class="nx">fetch</span> <span class="k">from</span> <span class="dl">'</span><span class="s1">cross-fetch</span><span class="dl">'</span><span class="p">;</span>

<span class="kd">const</span> <span class="nx">REQUEST_ERROR</span> <span class="o">=</span> <span class="p">{</span>
  <span class="na">message</span><span class="p">:</span> <span class="dl">'</span><span class="s1">Our request to Tryal.AI failed</span><span class="dl">'</span>
<span class="p">}</span>

<span class="k">async</span> <span class="kd">function</span> <span class="nx">getTryals</span><span class="p">()</span> <span class="p">{</span>
  <span class="k">try</span> <span class="p">{</span>
    <span class="kd">const</span> <span class="nx">response</span> <span class="o">=</span> <span class="k">await</span> <span class="nx">fetch</span><span class="p">(</span><span class="s2">`https://api.tryal.ai/tryals`</span><span class="p">,</span> <span class="p">{</span>
      <span class="na">method</span><span class="p">:</span> <span class="dl">'</span><span class="s1">get</span><span class="dl">'</span><span class="p">,</span>
      <span class="na">headers</span><span class="p">:</span> <span class="p">{</span>
        <span class="dl">'</span><span class="s1">Content-Type</span><span class="dl">'</span><span class="p">:</span> <span class="dl">'</span><span class="s1">application/json</span><span class="dl">'</span>
        <span class="c1">//Authorisation headers omitted</span>
      <span class="p">},</span>
      <span class="na">body</span><span class="p">:</span> <span class="nx">JSON</span><span class="p">.</span><span class="nx">stringify</span><span class="p">({</span>
        <span class="na">before</span><span class="p">:</span> <span class="k">new</span> <span class="nb">Date</span><span class="p">(),</span> <span class="c1">// must be before current data</span>
        <span class="na">after</span><span class="p">:</span> <span class="dl">"</span><span class="s2">2020-09-14T15:30:00.000Z</span><span class="dl">"</span><span class="p">,</span> <span class="c1">//must be after 14th Sept 2020 at 3:30PM UTC</span>
        <span class="na">board</span><span class="p">:</span> <span class="dl">"</span><span class="s2">aqa</span><span class="dl">"</span><span class="p">,</span> <span class="c1">// board must be AQA</span>
        <span class="na">level</span><span class="p">:</span> <span class="dl">"</span><span class="s2">foundation</span><span class="dl">"</span><span class="p">,</span> <span class="c1">// level must be foundation</span>
      <span class="p">})</span>
    <span class="p">});</span>
    <span class="k">if</span> <span class="p">(</span><span class="nx">response</span><span class="p">.</span><span class="nx">status</span> <span class="o">==</span> <span class="mi">200</span><span class="p">)</span> <span class="p">{</span>
      <span class="c1">//Produces result shown</span>
      <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="k">await</span> <span class="nx">response</span><span class="p">.</span><span class="nx">json</span><span class="p">());</span>
    <span class="p">}</span> <span class="k">else</span> <span class="p">{</span>
      <span class="k">throw</span> <span class="nx">REQUEST_ERROR</span>
    <span class="p">}</span>
  <span class="p">}</span> <span class="k">catch</span><span class="p">(</span><span class="nx">err</span><span class="p">)</span> <span class="p">{</span>
    <span class="c1">// Do error handling</span>
  <span class="p">}</span>
<span class="p">}</span>
</code></pre></div>
<blockquote>
<p>The above command returns JSON structured like this:</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">[</span><span class="w">
  </span><span class="p">{</span><span class="w">
    </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"738ae716b7842dcc6b25a819c32ca2baad64f72f74ac42fedb74184d258bb647"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"keyword"</span><span class="p">:</span><span class="w"> </span><span class="s2">"severally"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"created"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2020-09-14T15:37:59.625Z"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"board"</span><span class="p">:</span><span class="w"> </span><span class="s2">"edexcel"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"level"</span><span class="p">:</span><span class="w"> </span><span class="s2">"higher"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"marks"</span><span class="p">:</span><span class="w"> </span><span class="mi">80</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="p">{</span><span class="w">
    </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"06eef2535f0787bb5353078abed4f8a63ad4738ba7fd389831d25e96626e4541"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"keyword"</span><span class="p">:</span><span class="w"> </span><span class="s2">"costar"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"created"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2020-09-14T15:38:09.722Z"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"board"</span><span class="p">:</span><span class="w"> </span><span class="s2">"edexcel"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"level"</span><span class="p">:</span><span class="w"> </span><span class="s2">"higher"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"marks"</span><span class="p">:</span><span class="w"> </span><span class="mi">80</span><span class="w">
  </span><span class="p">}</span><span class="w">
  </span><span class="err">//</span><span class="w"> </span><span class="err">More</span><span class="w"> </span><span class="err">Tryals</span><span class="w"> </span><span class="err">omitted</span><span class="w">
</span><span class="p">]</span><span class="w">
</span></code></pre></div>
<p>This endpoint retrieves all previously generated Tryals. If you have not previously generated
material for this <em>Application</em> this will return <code>[]</code>.</p>

<aside class="notice">
  A record of a Tryal material in our database doesn't necessarily indicate that a Tryal is 
  definitely retrievable. Please see our policy of <a href="#storage-and-retrieval">storage and retrieval</a> limits for material 
</aside>
<h3 id='http-request'>HTTP Request</h3>
<p><code>GET https://api.tryal.ai/tryals</code></p>
<h3 id='body-parameters'>Body Parameters</h3>
<table><thead>
<tr>
<th>Parameter</th>
<th>Default</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><code>before</code></td>
<td>null</td>
<td>Any ISODate</td>
<td>If set to a date, will filter for all Tryals before a give date.</td>
</tr>
<tr>
<td><code>after</code></td>
<td>null</td>
<td>Any ISODate</td>
<td>If set to a date, will filter for all Tryals after a given date.</td>
</tr>
<tr>
<td><code>board</code></td>
<td>null</td>
<td>Any String</td>
<td>If set, filters tryals by board</td>
</tr>
<tr>
<td><code>level</code></td>
<td>null</td>
<td>Any String</td>
<td>If set, filters tryals by level</td>
</tr>
</tbody></table>
<h3 id='billing'>Billing</h3>
<p>There is no applicable fee for accessing this endpoint.</p>
<h3 id='response'>Response</h3>
<ul>
<li><strong>200</strong>

<ul>
<li>An array of Tryals generated using this application&#39;s identity. Includes basic information 
regarding when, how many marks and the Tryal&#39;s ID as well as the keyword used for the material&#39;s
entropy.</li>
</ul></li>
</ul>

<table><thead>
<tr>
<th>Key</th>
<th>Value</th>
</tr>
</thead><tbody>
<tr>
<td><code>id</code></td>
<td>identifies the tryal in question and generally is used for fetching metadata, PDF binaries, recycling and deleting</td>
</tr>
<tr>
<td><code>keyword</code></td>
<td>The keyword used for entropy in generating a Tryal. The keyword is provided for convenience and isn&#39;t necessarily a unique identifier</td>
</tr>
<tr>
<td><code>created</code></td>
<td>The date this Tryal material was generated</td>
</tr>
<tr>
<td><code>board</code></td>
<td>The board for which this tryal is targeted</td>
</tr>
<tr>
<td><code>level</code></td>
<td>The level at which this tryal is targeted</td>
</tr>
<tr>
<td><code>marks</code></td>
<td>The number of marks this Tryal consists of</td>
</tr>
</tbody></table>
<h3 id='errors'>Errors</h3>
<ul>
<li><strong>400</strong>

<ul>
<li><em>INCORRECT_REQUEST_CONTENT</em> - Content provided was not in a valid format, or was incomplete. In 
most cases, this means <em>type is incorrect</em> e.g. marks is a string, not a number, <em>something was missing</em>
e.g. you asked for a specific material but didn&#39;t provide an ID, <em>something is invalid value</em>, you gave
an argument which didn&#39;t conform to the required value.
Note, not all of our server side validation does sense checking, if you send two values which are contradictory
our server may not recognise this as an incorrect request. Validation is not a substitution for a well formed
request. Provides <em>invalid</em> to show what data it thinks is invalid</li>
<li><em>MISSING_REQUEST_CONTENT</em> - Content was specifically missing that was required. Generally speaking this means
you&#39;ve missed a request parameter that is explicitly required.</li>
</ul></li>
<li><strong>401</strong>

<ul>
<li><em>MISSING_AUTHENTICATION_HEADERS</em> - The required authentication headers were not included in the
request, we recommend checking for typos, or null values in your <code>tryal-app-id</code> and <code>tryal-app-token</code>
variables</li>
<li><em>INVALID_APPLICATION_TOKEN</em> - The application with the given id <code>tryal-app-id</code> does not correspond to
the token provided, most likely, your ID is correct, however your token is incorrect</li>
</ul></li>
<li><strong>403</strong>

<ul>
<li><em>NO_SUBSCRIPTION</em> - The account associated with this application does not currently have an active
subscription, or the billing is in arrears and access has been suspended.</li>
</ul></li>
<li><strong>404</strong>

<ul>
<li><em>APPLICATION_NOT_FOUND</em> - An application with the given <code>tryal-app-id</code> could not be found in our
currently listed active applications</li>
</ul></li>
</ul>
<h1 id='get-tryals-topics'><span class="get">GET</span> /tryals/topics</h1><h2 id='list-all-topics-currently-available-via-tryal-39-s-api'>List all Topics currently available via Tryal&#39;s API</h2>
<blockquote>
<p>Allows you to retrieve a list of all topics and their subtopics</p>
</blockquote>
<div class="highlight"><pre class="highlight shell tab-shell"><code><span class="c">#Authorisation headers omitted</span>
curl <span class="s2">"https://api.tryal.ai/tryals/topics"</span>
</code></pre></div><div class="highlight"><pre class="highlight javascript tab-javascript"><code><span class="c1">// We recommend cross-fetch to write easy HTTP requests</span>
<span class="kd">var</span> <span class="nx">fetch</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="dl">'</span><span class="s1">cross-fetch</span><span class="dl">'</span><span class="p">);</span>

<span class="c1">// Promise based request</span>
<span class="kd">var</span> <span class="nx">promise</span> <span class="o">=</span> <span class="nx">fetch</span><span class="p">(</span><span class="dl">'</span><span class="s1">https://api.tryal.ai/tryals/topics</span><span class="dl">'</span><span class="p">,</span> <span class="p">{</span>
  <span class="na">method</span><span class="p">:</span> <span class="dl">'</span><span class="s1">get</span><span class="dl">'</span><span class="p">,</span>
  <span class="na">headers</span><span class="p">:</span> <span class="p">{</span>
    <span class="dl">'</span><span class="s1">Content-Type</span><span class="dl">'</span><span class="p">:</span> <span class="dl">'</span><span class="s1">application/json</span><span class="dl">'</span>
    <span class="c1">//Authorisation headers omitted</span>
  <span class="p">}</span>
<span class="p">}).</span><span class="nx">then</span><span class="p">(</span><span class="kd">function</span><span class="p">(</span><span class="nx">res</span><span class="p">)</span> <span class="p">{</span>
  <span class="k">if</span> <span class="p">(</span><span class="nx">res</span><span class="p">.</span><span class="nx">status</span> <span class="o">!==</span> <span class="mi">200</span><span class="p">)</span> <span class="p">{</span>
    <span class="c1">//handle failed response</span>
  <span class="p">}</span> <span class="k">else</span> <span class="p">{</span>
    <span class="c1">// unpack the response JSON</span>
    <span class="nx">res</span><span class="p">.</span><span class="nx">json</span><span class="p">().</span><span class="nx">then</span><span class="p">(</span><span class="nx">responseBody</span><span class="p">)</span> <span class="p">{</span>
      <span class="c1">//Creates output as shown below</span>
      <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">responseBody</span><span class="p">)</span>
    <span class="p">}</span>
  <span class="p">}</span>
<span class="p">}).</span><span class="k">catch</span><span class="p">(</span><span class="kd">function</span><span class="p">(</span><span class="nx">err</span><span class="p">)</span> <span class="p">{</span>
  <span class="c1">//Handle any errors</span>
<span class="p">});</span>
</code></pre></div><div class="highlight"><pre class="highlight javascript tab-javascript--ESNext"><code><span class="c1">// We recommend cross-fetch to write easy HTTP requests</span>
<span class="k">import</span> <span class="nx">fetch</span> <span class="k">from</span> <span class="dl">'</span><span class="s1">cross-fetch</span><span class="dl">'</span><span class="p">;</span>

<span class="kd">const</span> <span class="nx">REQUEST_ERROR</span> <span class="o">=</span> <span class="p">{</span>
  <span class="na">message</span><span class="p">:</span> <span class="dl">'</span><span class="s1">Our request to Tryal.AI failed</span><span class="dl">'</span>
<span class="p">}</span>

<span class="k">async</span> <span class="kd">function</span> <span class="nx">getTopics</span><span class="p">()</span> <span class="p">{</span>
  <span class="k">try</span> <span class="p">{</span>
    <span class="kd">const</span> <span class="nx">response</span> <span class="o">=</span> <span class="k">await</span> <span class="nx">fetch</span><span class="p">(</span><span class="s2">`https://api.tryal.ai/tryals/topics`</span><span class="p">,</span> <span class="p">{</span>
      <span class="na">method</span><span class="p">:</span> <span class="dl">'</span><span class="s1">get</span><span class="dl">'</span><span class="p">,</span>
      <span class="na">headers</span><span class="p">:</span> <span class="p">{</span>
        <span class="dl">'</span><span class="s1">Content-Type</span><span class="dl">'</span><span class="p">:</span> <span class="dl">'</span><span class="s1">application/json</span><span class="dl">'</span>
        <span class="c1">//Authorisation headers omitted</span>
      <span class="p">},</span>
    <span class="p">});</span>
    <span class="k">if</span> <span class="p">(</span><span class="nx">response</span><span class="p">.</span><span class="nx">status</span> <span class="o">==</span> <span class="mi">200</span><span class="p">)</span> <span class="p">{</span>
      <span class="c1">//Produces result shown</span>
      <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="k">await</span> <span class="nx">response</span><span class="p">.</span><span class="nx">json</span><span class="p">());</span>
    <span class="p">}</span> <span class="k">else</span> <span class="p">{</span>
      <span class="k">throw</span> <span class="nx">REQUEST_ERROR</span>
    <span class="p">}</span>
  <span class="p">}</span> <span class="k">catch</span><span class="p">(</span><span class="nx">err</span><span class="p">)</span> <span class="p">{</span>
    <span class="c1">// Do error handling</span>
  <span class="p">}</span>
<span class="p">}</span>
</code></pre></div>
<blockquote>
<p>The above command returns JSON structured like this:</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">[</span><span class="w">
  </span><span class="p">{</span><span class="w">
    </span><span class="nl">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"algebra"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"subvalues"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
      </span><span class="s2">"express"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"simplify"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"solve"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"expand"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"factorise"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"rearrange"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"formula"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"suvat"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"inequalities"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"lineequations"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"sketch"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"fractions"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"quadratics"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"functions"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"simultaneous"</span><span class="w">
    </span><span class="p">]</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="err">//</span><span class="w"> </span><span class="err">More</span><span class="w"> </span><span class="err">topics</span><span class="w"> </span><span class="err">omitted</span><span class="w">
</span><span class="p">]</span><span class="w">
</span></code></pre></div>
<p>This endpoint retrieves all topics and subtopics available via our API. As our question modelling system grows, we will implement new subtopics, and increase your ability to filter topics according to what specification your focusing on. For example, <code>algebraic fractions</code> does not typically appear on foundation material, but this method has no way of filtering down to the the topics specific for that level.</p>

<aside class="success">
  Tryal.AI will ignore any topic exclusion rule that doesn't apply for the given level, board and difficulty. 
</aside>

<aside class="notice">
  As we release new material every week, this endpoint should be actively polled. 
</aside>
<h3 id='http-request'>HTTP Request</h3>
<p><code>GET https://api.tryal.ai/tryals/topics</code></p>
<h3 id='body-parameters'>Body Parameters</h3>
<p>No parameters. Search and filter parameters may be introduce in the feature, as a non-breaking change.</p>
<h3 id='billing'>Billing</h3>
<p>There is no applicable fee for accessing this endpoint.</p>
<h3 id='response'>Response</h3>
<ul>
<li><strong>200</strong>

<ul>
<li>An array of JSONs containing</li>
</ul></li>
</ul>

<table><thead>
<tr>
<th>Key</th>
<th>Value</th>
</tr>
</thead><tbody>
<tr>
<td><code>name</code></td>
<td>The name of the overall topic, e.g. <code>numbers</code>, <code>algebra</code> etc.</td>
</tr>
<tr>
<td><code>subvalues</code></td>
<td>An array of the support subtopics</td>
</tr>
</tbody></table>

<p>A single topic metadata response is shown on the right. The full request will contain all topics and all subtopics </p>
<h3 id='errors'>Errors</h3>
<ul>
<li><strong>500</strong>

<ul>
<li><em>GENERATOR_CALL_FAILED</em> - The generator didn&#39;t respond to our API server, this may be indicative of a server
update or maintenance period. If this problem persists, please contact support and we will investigate.</li>
</ul></li>
<li><strong>400</strong>

<ul>
<li><em>INCORRECT_REQUEST_CONTENT</em> - Content provided was not in a valid format, or was incomplete. In 
most cases, this means <em>type is incorrect</em> e.g. marks is a string, not a number, <em>something was missing</em>
e.g. you asked for a specific material but didn&#39;t provide an ID, <em>something is invalid value</em>, you gave
an argument which didn&#39;t conform to the required value.
Note, not all of our server side validation does sense checking, if you send two values which are contradictory
our server may not recognise this as an incorrect request. Validation is not a substitution for a well formed
request. Provides <em>invalid</em> to show what data it thinks is invalid</li>
<li><em>MISSING_REQUEST_CONTENT</em> - Content was specifically missing that was required. Generally speaking this means
you&#39;ve missed a request parameter that is explicitly required.</li>
</ul></li>
<li><strong>401</strong>

<ul>
<li><em>MISSING_AUTHENTICATION_HEADERS</em> - The required authentication headers were not included in the
request, we recommend checking for typos, or null values in your <code>tryal-app-id</code> and <code>tryal-app-token</code>
variables</li>
<li><em>INVALID_APPLICATION_TOKEN</em> - The application with the given id <code>tryal-app-id</code> does not correspond to
the token provided, most likely, your ID is correct, however your token is incorrect</li>
</ul></li>
<li><strong>403</strong>

<ul>
<li><em>NO_SUBSCRIPTION</em> - The account associated with this application does not currently have an active
subscription, or the billing is in arrears and access has been suspended.</li>
</ul></li>
<li><strong>404</strong>

<ul>
<li><em>APPLICATION_NOT_FOUND</em> - An application with the given <code>tryal-app-id</code> could not be found in our
currently listed active applications</li>
<li><em>RETRIEVE_FAILED</em> - Generally indicates that the requested Tryal material, or associated metadata is no longer
available, see our policies on Tryal material storage and retrieval and time limits. This generally shouldn&#39;t occur when polling <code>/tryals/topics</code></li>
</ul></li>
</ul>
<h1 id='get-tryals-meta'><span class="get">GET</span> /tryals/meta</h1><h2 id='get-a-specific-tryal-39-s-metadata'>Get a Specific Tryal&#39;s Metadata</h2><div class="highlight"><pre class="highlight shell tab-shell"><code><span class="c">#Authorisation headers omitted</span>
curl <span class="s2">"https://api.tryal.ai/tryals/meta?id=&lt;id&gt;"</span>
</code></pre></div><div class="highlight"><pre class="highlight javascript tab-javascript"><code><span class="c1">// We recommend cross-fetch to write easy HTTP requests</span>
<span class="kd">var</span> <span class="nx">fetch</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="dl">'</span><span class="s1">cross-fetch</span><span class="dl">'</span><span class="p">);</span>

<span class="kd">var</span> <span class="nx">id</span> <span class="o">=</span> <span class="dl">"</span><span class="s2">738ae716b7842dcc6b25a819c32ca2baad64f72f74ac42fedb74184d258bb647</span><span class="dl">"</span><span class="p">;</span>

<span class="c1">// Promise based request</span>
<span class="kd">var</span> <span class="nx">promise</span> <span class="o">=</span> <span class="nx">fetch</span><span class="p">(</span><span class="dl">'</span><span class="s1">https://api.tryal.ai/tryals/meta?id=</span><span class="dl">'</span> <span class="o">+</span> <span class="nx">id</span><span class="p">,</span> <span class="p">{</span>
  <span class="na">method</span><span class="p">:</span> <span class="dl">'</span><span class="s1">get</span><span class="dl">'</span><span class="p">,</span>
  <span class="na">headers</span><span class="p">:</span> <span class="p">{</span>
    <span class="dl">'</span><span class="s1">Content-Type</span><span class="dl">'</span><span class="p">:</span> <span class="dl">'</span><span class="s1">application/json</span><span class="dl">'</span>
    <span class="c1">//Authorisation headers omitted</span>
  <span class="p">}</span>
<span class="p">}).</span><span class="nx">then</span><span class="p">(</span><span class="kd">function</span><span class="p">(</span><span class="nx">res</span><span class="p">)</span> <span class="p">{</span>
  <span class="k">if</span> <span class="p">(</span><span class="nx">res</span><span class="p">.</span><span class="nx">status</span> <span class="o">!==</span> <span class="mi">200</span><span class="p">)</span> <span class="p">{</span>
    <span class="c1">//handle failed response</span>
  <span class="p">}</span> <span class="k">else</span> <span class="p">{</span>
    <span class="c1">// unpack the response JSON</span>
    <span class="nx">res</span><span class="p">.</span><span class="nx">json</span><span class="p">().</span><span class="nx">then</span><span class="p">(</span><span class="nx">responseBody</span><span class="p">)</span> <span class="p">{</span>
      <span class="c1">//Creates output as shown below</span>
      <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">responseBody</span><span class="p">)</span>
    <span class="p">}</span>
  <span class="p">}</span>
<span class="p">}).</span><span class="k">catch</span><span class="p">(</span><span class="kd">function</span><span class="p">(</span><span class="nx">err</span><span class="p">)</span> <span class="p">{</span>
  <span class="c1">//Handle any errors</span>
<span class="p">});</span>
</code></pre></div><div class="highlight"><pre class="highlight javascript tab-javascript--ESNext"><code><span class="c1">// We recommend cross-fetch to write easy HTTP requests</span>
<span class="k">import</span> <span class="nx">fetch</span> <span class="k">from</span> <span class="dl">'</span><span class="s1">cross-fetch</span><span class="dl">'</span><span class="p">;</span>

<span class="kd">const</span> <span class="nx">REQUEST_ERROR</span> <span class="o">=</span> <span class="p">{</span>
  <span class="na">message</span><span class="p">:</span> <span class="dl">'</span><span class="s1">Our request to Tryal.AI failed</span><span class="dl">'</span>
<span class="p">}</span>

<span class="k">async</span> <span class="kd">function</span> <span class="nx">getTryalMetadata</span><span class="p">(</span><span class="nx">id</span><span class="p">)</span> <span class="p">{</span>
  <span class="k">try</span> <span class="p">{</span>
    <span class="kd">const</span> <span class="nx">response</span> <span class="o">=</span> <span class="k">await</span> <span class="nx">fetch</span><span class="p">(</span><span class="s2">`https://api.tryal.ai/tryals/meta?id=</span><span class="p">${</span><span class="nx">id</span><span class="p">}</span><span class="s2">`</span><span class="p">,</span> <span class="p">{</span>
      <span class="na">method</span><span class="p">:</span> <span class="dl">'</span><span class="s1">get</span><span class="dl">'</span><span class="p">,</span>
      <span class="na">headers</span><span class="p">:</span> <span class="p">{</span>
        <span class="dl">'</span><span class="s1">Content-Type</span><span class="dl">'</span><span class="p">:</span> <span class="dl">'</span><span class="s1">application/json</span><span class="dl">'</span>
        <span class="c1">//Authorisation headers omitted</span>
      <span class="p">}</span>
    <span class="p">});</span>
    <span class="k">if</span> <span class="p">(</span><span class="nx">response</span><span class="p">.</span><span class="nx">status</span> <span class="o">==</span> <span class="mi">200</span><span class="p">)</span> <span class="p">{</span>
      <span class="c1">//Produces result shown</span>
      <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="k">await</span> <span class="nx">response</span><span class="p">.</span><span class="nx">json</span><span class="p">());</span>
    <span class="p">}</span> <span class="k">else</span> <span class="p">{</span>
      <span class="k">throw</span> <span class="nx">REQUEST_ERROR</span>
    <span class="p">}</span>
  <span class="p">}</span> <span class="k">catch</span><span class="p">(</span><span class="nx">err</span><span class="p">)</span> <span class="p">{</span>
    <span class="c1">// Do error handling</span>
  <span class="p">}</span>
<span class="p">}</span>
</code></pre></div>
<blockquote>
<p>The above command returns JSON structured like this:</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
    </span><span class="err">//Basic</span><span class="w"> </span><span class="err">info</span><span class="w">
    </span><span class="nl">"keyword"</span><span class="p">:</span><span class="w"> </span><span class="s2">"severally"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"board"</span><span class="p">:</span><span class="w"> </span><span class="s2">"edexcel"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"level"</span><span class="p">:</span><span class="w"> </span><span class="s2">"higher"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"marks"</span><span class="p">:</span><span class="w"> </span><span class="mi">80</span><span class="p">,</span><span class="w">
    </span><span class="nl">"no_of_questions"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
    </span><span class="nl">"is_calculator"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
    </span><span class="err">//Visual</span><span class="w"> </span><span class="err">info</span><span class="w">
    </span><span class="nl">"cover"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
    </span><span class="nl">"whitespace"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
    </span><span class="nl">"graphics_enabled"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
    </span><span class="nl">"markstable"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
    </span><span class="err">//configuration</span><span class="w"> </span><span class="err">info</span><span class="w">
    </span><span class="nl">"position"</span><span class="p">:</span><span class="w"> </span><span class="s2">"all"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"repeat"</span><span class="p">:</span><span class="w"> </span><span class="s2">"off"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"share"</span><span class="p">:</span><span class="w"> </span><span class="s2">"default"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"tolerance"</span><span class="p">:</span><span class="w"> </span><span class="mi">2</span><span class="p">,</span><span class="w">
    </span><span class="err">//topic</span><span class="w"> </span><span class="err">info</span><span class="w">
    </span><span class="nl">"inclusive"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
    </span><span class="nl">"exclude"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nl">"algebra"</span><span class="p">:</span><span class="w"> </span><span class="s2">"all"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"numbers"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="s2">"fdp"</span><span class="p">]</span><span class="w">
    </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<p>This endpoint retrieves metadata for a specific Tryal. The metadata retrieved is more comprehensive than
that provided by the <a href="#get-tryals"><span class="get">get</span> /tryals</a> endpoint. This is because we request
the data from the generation system. </p>

<p>As such, this response takes longer, and should not be requested for every Tryal, but only specific Tryals. This data is the same as the generation settings sent when requesting a newly generate tryal. We recommend storing generation
settings and the ID of the generated material together, on your server to save retrieval.</p>

<aside class="notice">
  A record of a Tryal material in our database doesn't necessarily indicate that a Tryal is 
  definitely retrievable. Please see our policy of <a href="#storage-and-retrieval">storage and retrieval</a> limits for material. This applies for metadata too.
</aside>
<h3 id='http-request'>HTTP Request</h3>
<p><code>GET https://api.tryal.ai/tryals/meta?id=&lt;id&gt;</code></p>
<h3 id='url-parameters'>URL Parameters</h3>
<table><thead>
<tr>
<th>Parameter</th>
<th>Valid</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>id</td>
<td>A SHA256 Hash</td>
<td>The ID of the tryal you wish to request metadata for, IDs are returned when generating tryals and when using <a href="#get-tryals"><span class="get">get</span> /tryals</a> to retrieve previously generated tryals.</td>
</tr>
</tbody></table>
<h3 id='billing'>Billing</h3>
<p>There is no applicable fee for retrieving metadata on material generated. Please note our <a href="#storage-and-retrieval">retrieval time limits</a> though as this applies to metadata too.</p>
<h3 id='response'>Response</h3>
<ul>
<li><strong>200</strong>

<ul>
<li>A JSON object containing metadata regarding the Tryal material. All this metadata is exposed during the generation call, either it is settings provided by you to Tryal.AI regarding the material you want generated or it is control values such as <code>ID</code> or <code>keyword</code> provided back once the material is generated</li>
</ul></li>
</ul>

<table><thead>
<tr>
<th>Key</th>
<th>Value</th>
</tr>
</thead><tbody>
<tr>
<td><code>keyword</code></td>
<td>The keyword used to provide entropy during generation</td>
</tr>
<tr>
<td><code>board</code></td>
<td>The board this Tryal material was targeted at</td>
</tr>
<tr>
<td><code>level</code></td>
<td>The level this Tryal material was targeted at</td>
</tr>
<tr>
<td><code>marks</code></td>
<td>The number of marks on this material. This is not necessarily equivalent to the billed marks, see minimum billing for more details. This value is 0, if <code>no_of_questions</code> is set.</td>
</tr>
<tr>
<td><code>no_of_questions</code></td>
<td>The number of questions present on this paper</td>
</tr>
<tr>
<td><code>is_calculator</code></td>
<td>Boolean indicating if this material is a calculator material</td>
</tr>
<tr>
<td><code>cover</code></td>
<td>Boolean indicating if this material has a cover</td>
</tr>
<tr>
<td><code>whitespace</code></td>
<td>Boolean indicating if the material has writing space (whitespace) included</td>
</tr>
<tr>
<td><code>graphics_enabled</code></td>
<td>Boolean indicating if graphics questions (e.g. ones containing rendered assets) are included in this material</td>
</tr>
<tr>
<td><code>markstable</code></td>
<td>Boolean indicating if the material includes a markstable, a markstable will be rendered, even if a cover page is excluded</td>
</tr>
<tr>
<td><code>position</code></td>
<td>A string with either the value <code>all</code> or <code>x/y</code> where <code>x</code> is the start question position and <code>y</code> is the end question position. For more information on how positions work, look at /generate</td>
</tr>
<tr>
<td><code>repeat</code></td>
<td>A string with one of <code>off</code>, <code>2mol</code>, <code>ssdd</code> or <code>2mol</code>, for more information on repeat question patterns, look at /generate.</td>
</tr>
<tr>
<td><code>share</code></td>
<td>A string with one of <code>default</code>, <code>even</code> or <code>off</code>, for more information on topic share patterns, look at /generate.</td>
</tr>
<tr>
<td><code>tolerance</code></td>
<td>A integer value indicating what level of tolerance for deviation from the topic share breakdown is acceptable, this is measured in marks e.g. <code>tolerance: 2</code> indicates 2 mark deviation</td>
</tr>
<tr>
<td><code>inclusive</code></td>
<td>A boolean indicating if topic exclusion follows an inclusive exclusion pattern e.g. if at least one subtopic for a question is not excluded, then that question will be considered for inclusion</td>
</tr>
<tr>
<td><code>exclude</code></td>
<td>A JSON object containing keys corresponding to major topics that have been excluded, or lists of subtopics that have been excluded. See below for more info on how we record exclusion.</td>
</tr>
</tbody></table>
<h3 id='excluding-topics'>Excluding topics</h3><div class="highlight"><pre class="highlight yaml tab-yaml"><code><span class="na">exclude</span><span class="pi">:</span>
  <span class="na">algebra</span><span class="pi">:</span> <span class="s">all</span>
  <span class="na">numbers</span><span class="pi">:</span>
    <span class="pi">-</span> <span class="s">fdp</span>
    <span class="pi">-</span> <span class="s">primes</span>
</code></pre></div>
<p>When keeping a record of excluded topics, we produce a JSON as shown in the YAML on the right. Any major topic without a key is considered to be <em>included</em>. Any major topic which corresponds to a value <code>all</code> is considered to be totally excluded. Any topic that corresponds to an array of strings e.g. <code>numbers: [&#39;fdp&#39;, &#39;primes&#39;]</code> has only those subtopics excluded. </p>

<p>This recording method was designed to be more human readable, only by saying what we didn&#39;t want included, rather than listing everything we want included. It can essentially be read verbatim &quot;exclude all subtopics from algebra&quot;, and &quot;exclude fdp and primes subtopic from numbers&quot;.</p>
<h3 id='errors'>Errors</h3>
<ul>
<li><strong>500</strong>

<ul>
<li><em>GENERATOR_CALL_FAILED</em> - The generator didn&#39;t respond to our API server, this may be indicative of a server
update or maintenance period. If this problem persists, please contact support and we will investigate.</li>
</ul></li>
<li><strong>400</strong>

<ul>
<li><em>INCORRECT_REQUEST_CONTENT</em> - Content provided was not in a valid format, or was incomplete. In 
most cases, this means <em>type is incorrect</em> e.g. marks is a string, not a number, <em>something was missing</em>
e.g. you asked for a specific material but didn&#39;t provide an ID, <em>something is invalid value</em>, you gave
an argument which didn&#39;t conform to the required value.
Note, not all of our server side validation does sense checking, if you send two values which are contradictory
our server may not recognise this as an incorrect request. Validation is not a substitution for a well formed
request. Provides <em>invalid</em> to show what data it thinks is invalid</li>
<li><em>MISSING_REQUEST_CONTENT</em> - Content was specifically missing that was required. Generally speaking this means
you&#39;ve missed a request parameter that is explicitly required.</li>
</ul></li>
<li><strong>401</strong>

<ul>
<li><em>MISSING_AUTHENTICATION_HEADERS</em> - The required authentication headers were not included in the
request, we recommend checking for typos, or null values in your <code>tryal-app-id</code> and <code>tryal-app-token</code>
variables</li>
<li><em>INVALID_APPLICATION_TOKEN</em> - The application with the given id <code>tryal-app-id</code> does not correspond to
the token provided, most likely, your ID is correct, however your token is incorrect</li>
</ul></li>
<li><strong>403</strong>

<ul>
<li><em>NO_SUBSCRIPTION</em> - The account associated with this application does not currently have an active
subscription, or the billing is in arrears and access has been suspended.</li>
</ul></li>
<li><strong>404</strong>

<ul>
<li><em>APPLICATION_NOT_FOUND</em> - An application with the given <code>tryal-app-id</code> could not be found in our
currently listed active applications</li>
<li><em>RETRIEVE_FAILED</em> - Generally indicates that the requested Tryal material, or associated metadata is no longer
available, see our policies on Tryal material storage and retrieval and time limits.<br></li>
</ul></li>
</ul>
<h1 id='get-tryals-paper'><span class="get">GET</span> /tryals/paper</h1><h2 id='get-a-specific-tryal-pdf-paper'>Get a specific Tryal PDF Paper</h2>
<blockquote>
<p>Allows you to retrieve the PDF question material generated</p>
</blockquote>
<div class="highlight"><pre class="highlight shell tab-shell"><code><span class="c">#Authorisation headers omitted</span>
curl <span class="s2">"https://api.tryal.ai/tryals/paper"</span>
</code></pre></div><div class="highlight"><pre class="highlight javascript tab-javascript"><code><span class="c1">// We recommend cross-fetch to write easy HTTP requests</span>
<span class="kd">var</span> <span class="nx">fetch</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="dl">'</span><span class="s1">cross-fetch</span><span class="dl">'</span><span class="p">);</span>

<span class="c1">// Promise based request</span>
<span class="kd">var</span> <span class="nx">promise</span> <span class="o">=</span> <span class="nx">fetch</span><span class="p">(</span><span class="dl">'</span><span class="s1">https://api.tryal.ai/tryals/paper</span><span class="dl">'</span><span class="p">,</span> <span class="p">{</span>
  <span class="na">method</span><span class="p">:</span> <span class="dl">'</span><span class="s1">get</span><span class="dl">'</span><span class="p">,</span>
  <span class="na">headers</span><span class="p">:</span> <span class="p">{</span>
    <span class="dl">'</span><span class="s1">Content-Type</span><span class="dl">'</span><span class="p">:</span> <span class="dl">'</span><span class="s1">application/json</span><span class="dl">'</span>
    <span class="c1">//Authorisation headers omitted</span>
  <span class="p">},</span> 
  <span class="na">body</span><span class="p">:</span> <span class="nx">JSON</span><span class="p">.</span><span class="nx">stringify</span><span class="p">({</span>
    <span class="na">id</span><span class="p">:</span> <span class="dl">"</span><span class="s2">007d3281ec51592e6d2a9b1955d9061e610627a159e1a914702868ca7ef854ba</span><span class="dl">"</span><span class="p">,</span>
  <span class="p">})</span>
<span class="p">}).</span><span class="nx">then</span><span class="p">(</span><span class="kd">function</span><span class="p">(</span><span class="nx">res</span><span class="p">)</span> <span class="p">{</span>
  <span class="k">if</span> <span class="p">(</span><span class="nx">res</span><span class="p">.</span><span class="nx">status</span> <span class="o">!==</span> <span class="mi">200</span><span class="p">)</span> <span class="p">{</span>
    <span class="c1">//handle failed response</span>
  <span class="p">}</span> <span class="k">else</span> <span class="p">{</span>
    <span class="c1">// Note that we use blob here, not json</span>
    <span class="nx">res</span><span class="p">.</span><span class="nx">blob</span><span class="p">().</span><span class="nx">then</span><span class="p">(</span><span class="nx">paper</span><span class="p">)</span> <span class="p">{</span>
            <span class="c1">// Can add this to an anchor tag's href to download it/open it in browser</span>
        <span class="kd">var</span> <span class="nx">canAddToAHref</span> <span class="o">=</span> <span class="nb">window</span><span class="p">.</span><span class="nx">URL</span><span class="p">.</span><span class="nx">createObjectURL</span><span class="p">(</span><span class="nx">paper</span><span class="p">);</span>
    <span class="p">}</span>
        <span class="c1">// Can pipe the result on elsewhere e.g. to client</span>
        <span class="nx">res</span><span class="p">.</span><span class="nx">body</span><span class="p">.</span><span class="nx">pipe</span><span class="p">(</span><span class="nx">somewhereElse</span><span class="p">);</span>
  <span class="p">}</span>
<span class="p">}).</span><span class="k">catch</span><span class="p">(</span><span class="kd">function</span><span class="p">(</span><span class="nx">err</span><span class="p">)</span> <span class="p">{</span>
  <span class="c1">//Handle any errors</span>
<span class="p">});</span>
</code></pre></div><div class="highlight"><pre class="highlight javascript tab-javascript--ESNext"><code><span class="c1">// We recommend cross-fetch to write easy HTTP requests</span>
<span class="k">import</span> <span class="nx">fetch</span> <span class="k">from</span> <span class="dl">'</span><span class="s1">cross-fetch</span><span class="dl">'</span><span class="p">;</span>

<span class="kd">const</span> <span class="nx">REQUEST_ERROR</span> <span class="o">=</span> <span class="p">{</span>
  <span class="na">message</span><span class="p">:</span> <span class="dl">'</span><span class="s1">Our request to Tryal.AI failed</span><span class="dl">'</span>
<span class="p">}</span>

<span class="k">async</span> <span class="kd">function</span> <span class="nx">getTryalPaper</span><span class="p">()</span> <span class="p">{</span>
  <span class="k">try</span> <span class="p">{</span>
    <span class="kd">const</span> <span class="nx">response</span> <span class="o">=</span> <span class="k">await</span> <span class="nx">fetch</span><span class="p">(</span><span class="s2">`https://api.tryal.ai/tryals/paper`</span><span class="p">,</span> <span class="p">{</span>
      <span class="na">method</span><span class="p">:</span> <span class="dl">'</span><span class="s1">get</span><span class="dl">'</span><span class="p">,</span>
      <span class="na">headers</span><span class="p">:</span> <span class="p">{</span>
        <span class="dl">'</span><span class="s1">Content-Type</span><span class="dl">'</span><span class="p">:</span> <span class="dl">'</span><span class="s1">application/json</span><span class="dl">'</span>
        <span class="c1">//Authorisation headers omitted</span>
      <span class="p">},</span>
      <span class="na">body</span><span class="p">:</span> <span class="nx">JSON</span><span class="p">.</span><span class="nx">stringify</span><span class="p">({</span>
                <span class="na">id</span><span class="p">:</span> <span class="dl">"</span><span class="s2">007d3281ec51592e6d2a9b1955d9061e610627a159e1a914702868ca7ef854ba</span><span class="dl">"</span><span class="p">,</span>
            <span class="p">})</span>
    <span class="p">});</span>
    <span class="k">if</span> <span class="p">(</span><span class="nx">response</span><span class="p">.</span><span class="nx">status</span> <span class="o">==</span> <span class="mi">200</span><span class="p">)</span> <span class="p">{</span>
      <span class="c1">//Produces result shown</span>
      <span class="kd">const</span> <span class="nx">pdfBlob</span> <span class="o">=</span> <span class="k">await</span> <span class="nx">response</span><span class="p">.</span><span class="nx">blob</span><span class="p">();</span>
            <span class="c1">// Can stick this in a href on the client</span>
            <span class="kd">const</span> <span class="nx">href</span> <span class="o">=</span> <span class="nb">window</span><span class="p">.</span><span class="nx">URL</span><span class="p">.</span><span class="nx">createObjectURL</span><span class="p">(</span><span class="nx">pdfBlob</span><span class="p">);</span>

            <span class="c1">//forward result on to client</span>
            <span class="nx">response</span><span class="p">.</span><span class="nx">body</span><span class="p">.</span><span class="nx">pipe</span><span class="p">(</span><span class="nx">forwardInResponse</span><span class="p">);</span>
    <span class="p">}</span> <span class="k">else</span> <span class="p">{</span>
      <span class="k">throw</span> <span class="nx">REQUEST_ERROR</span>
    <span class="p">}</span>
  <span class="p">}</span> <span class="k">catch</span><span class="p">(</span><span class="nx">err</span><span class="p">)</span> <span class="p">{</span>
    <span class="c1">// Do error handling</span>
  <span class="p">}</span>
<span class="p">}</span>
</code></pre></div>
<blockquote>
<p>The above command returns a blob, which we cannot show here</p>
</blockquote>

<p>This endpoint retrieves a PDF blob, which when downloaded or rendered in browser, is the Tryal.AI
material we generated as a result of <a href="#post-tryals-create"><span class="post">post</span> /tryals/create</a>. It is retrieved using the <code>id</code> produced when calling <code>/create</code>. </p>

<aside class="notice">
  A record of a Tryal material in our database doesn't necessarily indicate that a Tryal is 
  definitely retrievable. Please see our policy of <a href="#storage-and-retrieval">storage and retrieval</a> limits for material 
</aside>
<h3 id='http-request'>HTTP Request</h3>
<p><code>GET https://api.tryal.ai/tryals/paper</code></p>
<h3 id='body-parameters'>Body Parameters</h3>
<table><thead>
<tr>
<th>Parameter</th>
<th>Required</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><code>id</code></td>
<td>Yes</td>
<td>SHA256</td>
<td>The ID of the material for which to retrieve the PDF paper for</td>
</tr>
</tbody></table>
<h3 id='billing'>Billing</h3>
<p>There is no applicable fee for retrieving a mark scheme or a paper. Please note our <a href="#storage-and-retrieval">retrieval time limits</a> though.</p>
<h3 id='response'>Response</h3>
<ul>
<li><strong>200</strong>

<ul>
<li>A blob response containing a PDF copy of the Tryal.AI material generated and associated with this ID</li>
</ul></li>
</ul>
<h3 id='errors'>Errors</h3>
<ul>
<li><strong>500</strong>

<ul>
<li><em>GENERATOR_CALL_FAILED</em> - The generator didn&#39;t respond to our API server, this may be indicative of a server
update or maintenance period. If this problem persists, please contact support and we will investigate.</li>
</ul></li>
<li><strong>400</strong>

<ul>
<li><em>INCORRECT_REQUEST_CONTENT</em> - Content provided was not in a valid format, or was incomplete. In 
most cases, this means <em>type is incorrect</em> e.g. marks is a string, not a number, <em>something was missing</em>
e.g. you asked for a specific material but didn&#39;t provide an ID, <em>something is invalid value</em>, you gave
an argument which didn&#39;t conform to the required value.
Note, not all of our server side validation does sense checking, if you send two values which are contradictory
our server may not recognise this as an incorrect request. Validation is not a substitution for a well formed
request. Provides <em>invalid</em> to show what data it thinks is invalid</li>
<li><em>MISSING_REQUEST_CONTENT</em> - Content was specifically missing that was required. Generally speaking this means
you&#39;ve missed a request parameter that is explicitly required.</li>
</ul></li>
<li><strong>401</strong>

<ul>
<li><em>MISSING_AUTHENTICATION_HEADERS</em> - The required authentication headers were not included in the
request, we recommend checking for typos, or null values in your <code>tryal-app-id</code> and <code>tryal-app-token</code>
variables</li>
<li><em>INVALID_APPLICATION_TOKEN</em> - The application with the given id <code>tryal-app-id</code> does not correspond to
the token provided, most likely, your ID is correct, however your token is incorrect</li>
</ul></li>
<li><strong>403</strong>

<ul>
<li><em>NO_SUBSCRIPTION</em> - The account associated with this application does not currently have an active
subscription, or the billing is in arrears and access has been suspended.</li>
</ul></li>
<li><strong>404</strong>

<ul>
<li><em>APPLICATION_NOT_FOUND</em> - An application with the given <code>tryal-app-id</code> could not be found in our
currently listed active applications</li>
<li><em>RETRIEVE_FAILED</em> - Generally indicates that the requested Tryal material, or associated metadata is no longer
available, see our policies on Tryal material storage and retrieval and time limits.<br></li>
</ul></li>
</ul>
<h1 id='get-tryals-markscheme'><span class="get">GET</span> /tryals/markscheme</h1><h2 id='get-a-specific-tryal-pdf-mark-scheme'>Get a specific Tryal PDF Mark Scheme</h2>
<blockquote>
<p>Allows you to retrieve the PDF mark scheme material generate</p>
</blockquote>
<div class="highlight"><pre class="highlight shell tab-shell"><code><span class="c">#Authorisation headers omitted</span>
curl <span class="s2">"https://api.tryal.ai/tryals/markscheme"</span>
</code></pre></div><div class="highlight"><pre class="highlight javascript tab-javascript"><code><span class="c1">// We recommend cross-fetch to write easy HTTP requests</span>
<span class="kd">var</span> <span class="nx">fetch</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="dl">'</span><span class="s1">cross-fetch</span><span class="dl">'</span><span class="p">);</span>

<span class="c1">// Promise based request</span>
<span class="kd">var</span> <span class="nx">promise</span> <span class="o">=</span> <span class="nx">fetch</span><span class="p">(</span><span class="dl">'</span><span class="s1">https://api.tryal.ai/tryals/markscheme</span><span class="dl">'</span><span class="p">,</span> <span class="p">{</span>
  <span class="na">method</span><span class="p">:</span> <span class="dl">'</span><span class="s1">get</span><span class="dl">'</span><span class="p">,</span>
  <span class="na">headers</span><span class="p">:</span> <span class="p">{</span>
    <span class="dl">'</span><span class="s1">Content-Type</span><span class="dl">'</span><span class="p">:</span> <span class="dl">'</span><span class="s1">application/json</span><span class="dl">'</span>
    <span class="c1">//Authorisation headers omitted</span>
  <span class="p">},</span> 
  <span class="na">body</span><span class="p">:</span> <span class="nx">JSON</span><span class="p">.</span><span class="nx">stringify</span><span class="p">({</span>
    <span class="na">id</span><span class="p">:</span> <span class="dl">"</span><span class="s2">007d3281ec51592e6d2a9b1955d9061e610627a159e1a914702868ca7ef854ba</span><span class="dl">"</span><span class="p">,</span>
  <span class="p">})</span>
<span class="p">}).</span><span class="nx">then</span><span class="p">(</span><span class="kd">function</span><span class="p">(</span><span class="nx">res</span><span class="p">)</span> <span class="p">{</span>
  <span class="k">if</span> <span class="p">(</span><span class="nx">res</span><span class="p">.</span><span class="nx">status</span> <span class="o">!==</span> <span class="mi">200</span><span class="p">)</span> <span class="p">{</span>
    <span class="c1">//handle failed response</span>
  <span class="p">}</span> <span class="k">else</span> <span class="p">{</span>
    <span class="c1">// Note that we use blob here, not json</span>
    <span class="nx">res</span><span class="p">.</span><span class="nx">blob</span><span class="p">().</span><span class="nx">then</span><span class="p">(</span><span class="nx">paper</span><span class="p">)</span> <span class="p">{</span>
        <span class="c1">// Can add this to an anchor tag's href to download it/open it in browser</span>
        <span class="kd">var</span> <span class="nx">canAddToAHref</span> <span class="o">=</span> <span class="nb">window</span><span class="p">.</span><span class="nx">URL</span><span class="p">.</span><span class="nx">createObjectURL</span><span class="p">(</span><span class="nx">paper</span><span class="p">);</span>
    <span class="p">}</span>
        <span class="c1">// Can pipe the result on elsewhere e.g. to client</span>
        <span class="nx">res</span><span class="p">.</span><span class="nx">body</span><span class="p">.</span><span class="nx">pipe</span><span class="p">(</span><span class="nx">somewhereElse</span><span class="p">);</span>
  <span class="p">}</span>
<span class="p">}).</span><span class="k">catch</span><span class="p">(</span><span class="kd">function</span><span class="p">(</span><span class="nx">err</span><span class="p">)</span> <span class="p">{</span>
  <span class="c1">//Handle any errors</span>
<span class="p">});</span>
</code></pre></div><div class="highlight"><pre class="highlight javascript tab-javascript--ESNext"><code><span class="c1">// We recommend cross-fetch to write easy HTTP requests</span>
<span class="k">import</span> <span class="nx">fetch</span> <span class="k">from</span> <span class="dl">'</span><span class="s1">cross-fetch</span><span class="dl">'</span><span class="p">;</span>

<span class="kd">const</span> <span class="nx">REQUEST_ERROR</span> <span class="o">=</span> <span class="p">{</span>
  <span class="na">message</span><span class="p">:</span> <span class="dl">'</span><span class="s1">Our request to Tryal.AI failed</span><span class="dl">'</span>
<span class="p">}</span>

<span class="k">async</span> <span class="kd">function</span> <span class="nx">getTryalMarkscheme</span><span class="p">()</span> <span class="p">{</span>
  <span class="k">try</span> <span class="p">{</span>
    <span class="kd">const</span> <span class="nx">response</span> <span class="o">=</span> <span class="k">await</span> <span class="nx">fetch</span><span class="p">(</span><span class="s2">`https://api.tryal.ai/tryals/markscheme`</span><span class="p">,</span> <span class="p">{</span>
      <span class="na">method</span><span class="p">:</span> <span class="dl">'</span><span class="s1">get</span><span class="dl">'</span><span class="p">,</span>
      <span class="na">headers</span><span class="p">:</span> <span class="p">{</span>
        <span class="dl">'</span><span class="s1">Content-Type</span><span class="dl">'</span><span class="p">:</span> <span class="dl">'</span><span class="s1">application/json</span><span class="dl">'</span>
        <span class="c1">//Authorisation headers omitted</span>
      <span class="p">},</span>
      <span class="na">body</span><span class="p">:</span> <span class="nx">JSON</span><span class="p">.</span><span class="nx">stringify</span><span class="p">({</span>
        <span class="na">id</span><span class="p">:</span> <span class="dl">"</span><span class="s2">007d3281ec51592e6d2a9b1955d9061e610627a159e1a914702868ca7ef854ba</span><span class="dl">"</span><span class="p">,</span>
      <span class="p">})</span>
    <span class="p">});</span>
    <span class="k">if</span> <span class="p">(</span><span class="nx">response</span><span class="p">.</span><span class="nx">status</span> <span class="o">==</span> <span class="mi">200</span><span class="p">)</span> <span class="p">{</span>
      <span class="c1">//Produces result shown</span>
      <span class="kd">const</span> <span class="nx">pdfBlob</span> <span class="o">=</span> <span class="k">await</span> <span class="nx">response</span><span class="p">.</span><span class="nx">blob</span><span class="p">();</span>
            <span class="c1">// Can stick this in a href on the client</span>
            <span class="kd">const</span> <span class="nx">href</span> <span class="o">=</span> <span class="nb">window</span><span class="p">.</span><span class="nx">URL</span><span class="p">.</span><span class="nx">createObjectURL</span><span class="p">(</span><span class="nx">pdfBlob</span><span class="p">);</span>

            <span class="c1">//forward result on to client</span>
            <span class="nx">response</span><span class="p">.</span><span class="nx">body</span><span class="p">.</span><span class="nx">pipe</span><span class="p">(</span><span class="nx">forwardInResponse</span><span class="p">);</span>
    <span class="p">}</span> <span class="k">else</span> <span class="p">{</span>
      <span class="k">throw</span> <span class="nx">REQUEST_ERROR</span>
    <span class="p">}</span>
  <span class="p">}</span> <span class="k">catch</span><span class="p">(</span><span class="nx">err</span><span class="p">)</span> <span class="p">{</span>
    <span class="c1">// Do error handling</span>
  <span class="p">}</span>
<span class="p">}</span>
</code></pre></div>
<blockquote>
<p>The above command returns a blob, which we cannot show here</p>
</blockquote>

<p>This endpoint retrieves a PDF blob, which when downloaded or rendered in browser, is the Tryal.AI
mark scheme that corresponds to the material we generated as a result of <a href="#post-tryals-create"><span class="post">post</span> /tryals/create</a>. It is retrieved using the <code>id</code> produced when calling <code>/create</code>. </p>

<aside class="notice">
  A record of a Tryal material in our database doesn't necessarily indicate that a Tryal is 
  definitely retrievable. Please see our policy of <a href="#storage-and-retrieval">storage and retrieval</a> limits for material 
</aside>
<h3 id='http-request'>HTTP Request</h3>
<p><code>GET https://api.tryal.ai/tryals/markscheme</code></p>
<h3 id='body-parameters'>Body Parameters</h3>
<table><thead>
<tr>
<th>Parameter</th>
<th>Required</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><code>id</code></td>
<td>Yes</td>
<td>SHA256</td>
<td>The ID of the material for which to retrieve the PDF mark scheme for</td>
</tr>
</tbody></table>
<h3 id='billing'>Billing</h3>
<p>There is no applicable fee for retrieving a mark scheme or a paper. Please note our <a href="#storage-and-retrieval">retrieval time limits</a> though.</p>
<h3 id='response'>Response</h3>
<ul>
<li><strong>200</strong>

<ul>
<li>A blob response containing a PDF copy of the mark scheme corresponding to the Tryal.AI material generated and associated with this ID</li>
</ul></li>
</ul>
<h3 id='errors'>Errors</h3>
<ul>
<li><strong>500</strong>

<ul>
<li><em>GENERATOR_CALL_FAILED</em> - The generator didn&#39;t respond to our API server, this may be indicative of a server
update or maintenance period. If this problem persists, please contact support and we will investigate.</li>
</ul></li>
<li><strong>400</strong>

<ul>
<li><em>INCORRECT_REQUEST_CONTENT</em> - Content provided was not in a valid format, or was incomplete. In 
most cases, this means <em>type is incorrect</em> e.g. marks is a string, not a number, <em>something was missing</em>
e.g. you asked for a specific material but didn&#39;t provide an ID, <em>something is invalid value</em>, you gave
an argument which didn&#39;t conform to the required value.
Note, not all of our server side validation does sense checking, if you send two values which are contradictory
our server may not recognise this as an incorrect request. Validation is not a substitution for a well formed
request. Provides <em>invalid</em> to show what data it thinks is invalid</li>
<li><em>MISSING_REQUEST_CONTENT</em> - Content was specifically missing that was required. Generally speaking this means
you&#39;ve missed a request parameter that is explicitly required.</li>
</ul></li>
<li><strong>401</strong>

<ul>
<li><em>MISSING_AUTHENTICATION_HEADERS</em> - The required authentication headers were not included in the
request, we recommend checking for typos, or null values in your <code>tryal-app-id</code> and <code>tryal-app-token</code>
variables</li>
<li><em>INVALID_APPLICATION_TOKEN</em> - The application with the given id <code>tryal-app-id</code> does not correspond to
the token provided, most likely, your ID is correct, however your token is incorrect</li>
</ul></li>
<li><strong>403</strong>

<ul>
<li><em>NO_SUBSCRIPTION</em> - The account associated with this application does not currently have an active
subscription, or the billing is in arrears and access has been suspended.</li>
</ul></li>
<li><strong>404</strong>

<ul>
<li><em>APPLICATION_NOT_FOUND</em> - An application with the given <code>tryal-app-id</code> could not be found in our
currently listed active applications</li>
<li><em>RETRIEVE_FAILED</em> - Generally indicates that the requested Tryal material, or associated metadata is no longer
available, see our policies on Tryal material storage and retrieval and time limits.<br></li>
</ul></li>
</ul>
<h1 id='post-tryals-recycle'><span class="post">POST</span> /tryals/recycle</h1><h2 id='recycle-a-previous-generated-material'>Recycle a previous generated material</h2>
<blockquote>
<p>Allows you to recycle a previously generated Tryal.AI material</p>
</blockquote>
<div class="highlight"><pre class="highlight shell tab-shell"><code><span class="c">#Authorisation headers omitted</span>
curl <span class="s2">"https://api.tryal.ai/tryals/recycle"</span>
</code></pre></div><div class="highlight"><pre class="highlight javascript tab-javascript"><code><span class="c1">// We recommend cross-fetch to write easy HTTP requests</span>
<span class="kd">var</span> <span class="nx">fetch</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="dl">'</span><span class="s1">cross-fetch</span><span class="dl">'</span><span class="p">);</span>

<span class="c1">// Promise based request</span>
<span class="kd">var</span> <span class="nx">promise</span> <span class="o">=</span> <span class="nx">fetch</span><span class="p">(</span><span class="dl">'</span><span class="s1">https://api.tryal.ai/tryals/recycle</span><span class="dl">'</span><span class="p">,</span> <span class="p">{</span>
  <span class="na">method</span><span class="p">:</span> <span class="dl">'</span><span class="s1">post</span><span class="dl">'</span><span class="p">,</span>
  <span class="na">headers</span><span class="p">:</span> <span class="p">{</span>
    <span class="dl">'</span><span class="s1">Content-Type</span><span class="dl">'</span><span class="p">:</span> <span class="dl">'</span><span class="s1">application/json</span><span class="dl">'</span>
    <span class="c1">//Authorisation headers omitted</span>
  <span class="p">},</span> 
  <span class="na">body</span><span class="p">:</span> <span class="nx">JSON</span><span class="p">.</span><span class="nx">stringify</span><span class="p">({</span>
    <span class="na">id</span><span class="p">:</span> <span class="dl">"</span><span class="s2">007d3281ec51592e6d2a9b1955d9061e610627a159e1a914702868ca7ef854ba</span><span class="dl">"</span><span class="p">,</span>
  <span class="p">})</span>
<span class="p">}).</span><span class="nx">then</span><span class="p">(</span><span class="kd">function</span><span class="p">(</span><span class="nx">res</span><span class="p">)</span> <span class="p">{</span>
  <span class="k">if</span> <span class="p">(</span><span class="nx">res</span><span class="p">.</span><span class="nx">status</span> <span class="o">!==</span> <span class="mi">200</span><span class="p">)</span> <span class="p">{</span>
    <span class="c1">//handle failed response</span>
  <span class="p">}</span> <span class="k">else</span> <span class="p">{</span>
    <span class="nx">res</span><span class="p">.</span><span class="nx">json</span><span class="p">().</span><span class="nx">then</span><span class="p">(</span><span class="kd">function</span> <span class="p">(</span><span class="nx">result</span><span class="p">)</span> <span class="p">{</span>
        <span class="c1">// print the result of the recycle request</span>
        <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">result</span><span class="p">)</span>
    <span class="p">});</span>
  <span class="p">}</span>
<span class="p">}).</span><span class="k">catch</span><span class="p">(</span><span class="kd">function</span><span class="p">(</span><span class="nx">err</span><span class="p">)</span> <span class="p">{</span>
  <span class="c1">//Handle any errors</span>
<span class="p">});</span>
</code></pre></div><div class="highlight"><pre class="highlight javascript tab-javascript--ESNext"><code><span class="c1">// We recommend cross-fetch to write easy HTTP requests</span>
<span class="k">import</span> <span class="nx">fetch</span> <span class="k">from</span> <span class="dl">'</span><span class="s1">cross-fetch</span><span class="dl">'</span><span class="p">;</span>

<span class="kd">const</span> <span class="nx">REQUEST_ERROR</span> <span class="o">=</span> <span class="p">{</span>
  <span class="na">message</span><span class="p">:</span> <span class="dl">'</span><span class="s1">Our request to Tryal.AI failed</span><span class="dl">'</span>
<span class="p">}</span>

<span class="k">async</span> <span class="kd">function</span> <span class="nx">recycleTryal</span><span class="p">()</span> <span class="p">{</span>
  <span class="k">try</span> <span class="p">{</span>
    <span class="kd">const</span> <span class="nx">response</span> <span class="o">=</span> <span class="k">await</span> <span class="nx">fetch</span><span class="p">(</span><span class="s2">`https://api.tryal.ai/tryals/recycle`</span><span class="p">,</span> <span class="p">{</span>
      <span class="na">method</span><span class="p">:</span> <span class="dl">'</span><span class="s1">post</span><span class="dl">'</span><span class="p">,</span>
      <span class="na">headers</span><span class="p">:</span> <span class="p">{</span>
        <span class="dl">'</span><span class="s1">Content-Type</span><span class="dl">'</span><span class="p">:</span> <span class="dl">'</span><span class="s1">application/json</span><span class="dl">'</span>
        <span class="c1">//Authorisation headers omitted</span>
      <span class="p">},</span>
      <span class="na">body</span><span class="p">:</span> <span class="nx">JSON</span><span class="p">.</span><span class="nx">stringify</span><span class="p">({</span>
                <span class="na">id</span><span class="p">:</span> <span class="dl">"</span><span class="s2">007d3281ec51592e6d2a9b1955d9061e610627a159e1a914702868ca7ef854ba</span><span class="dl">"</span><span class="p">,</span>
            <span class="p">})</span>
    <span class="p">});</span>
    <span class="k">if</span> <span class="p">(</span><span class="nx">response</span><span class="p">.</span><span class="nx">status</span> <span class="o">==</span> <span class="mi">200</span><span class="p">)</span> <span class="p">{</span>
      <span class="kd">const</span> <span class="nx">result</span> <span class="o">=</span> <span class="k">await</span> <span class="nx">response</span><span class="p">.</span><span class="nx">json</span><span class="p">();</span>
      <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">result</span><span class="p">);</span>
    <span class="p">}</span> <span class="k">else</span> <span class="p">{</span>
      <span class="k">throw</span> <span class="nx">REQUEST_ERROR</span>
    <span class="p">}</span>
  <span class="p">}</span> <span class="k">catch</span><span class="p">(</span><span class="nx">err</span><span class="p">)</span> <span class="p">{</span>
    <span class="c1">// Do error handling</span>
  <span class="p">}</span>
<span class="p">}</span>
</code></pre></div>
<blockquote>
<p>The above command returns a body similar to that generated by the create method</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"e0c9e0738c410437ab1cc7793f6fe9402f60cb72975febbb978623fc9c0583cb"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"keyword"</span><span class="p">:</span><span class="w"> </span><span class="s2">"flamed"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<p>One of the coolest things Tryal.AI can do from an educational perspective, is recycle the same material, to create new material with the same underlying structure, but different values and contexts for the questions.</p>

<p>This can be used in a number of different settings, for example, you could generate 30 material items, each with the same fundamental question structures, by recycling an initial material, but with values unique to each student in a class. As a result, collaboration in a class takes on a new dimension, because it&#39;s no longer &quot;what did you get for question 5&quot; it&#39;s, &quot;what did you do to get your answer for question 5&quot;.</p>

<p>Recycle allows users to get more mileage out of material they like. </p>
<h3 id='http-request'>HTTP Request</h3>
<p><code>POST https://api.tryal.ai/tryals/recycle</code></p>
<h3 id='body-parameters'>Body Parameters</h3>
<table><thead>
<tr>
<th>Parameter</th>
<th>Required</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><code>id</code></td>
<td>Yes</td>
<td>SHA256</td>
<td>The ID of the material you wish to recycle</td>
</tr>
</tbody></table>
<h3 id='billing'>Billing</h3>
<p>Recycle is billed at the same rate as the initial created material. E.g. if you generate a 50 mark material and then recycle it twice, you will be billed a total of 150 marks. E.g. 1 x The initial paper + 2 x The two recycled materials = 3 x 50 marks.</p>

<p>Recycling is subject to same minimum billing criteria of generation. If you recycle a 4 mark material, you&#39;ll be build 5 marks for the recycle, same as how you would be billed 5 marks for the initial generation of that 4 mark material.</p>
<h3 id='response'>Response</h3>
<ul>
<li><strong>200</strong>

<ul>
<li>A JSON object containing metadata regarding the Tryal material you&#39;ve just generated. This is not the PDF copy itself, using the data here you can retrieve the PDF Paper and Mark Scheme as a PDF binary.</li>
</ul></li>
</ul>

<table><thead>
<tr>
<th>Key</th>
<th>Value</th>
</tr>
</thead><tbody>
<tr>
<td>keyword</td>
<td>The keyword used to provide entropy during generation</td>
</tr>
<tr>
<td>id</td>
<td>A SHA256 hash used to retrieve the PDFs for paper and mark scheme and the metadata. Also used to delete and recycle the material</td>
</tr>
</tbody></table>
<h3 id='errors'>Errors</h3>
<ul>
<li><strong>500</strong>

<ul>
<li><em>GENERATOR_CALL_FAILED</em> - The generator didn&#39;t respond to our API server, this may be indicative of a server
update or maintenance period. If this problem persists, please contact support and we will investigate.</li>
<li><em>GENERATOR_FAILED</em> - Generally indicates that material with the given parameters could not be generated. Typically indicative of a bad generation request, but may be due to failed generation. You will not be billed for any failed generation attempts.</li>
</ul></li>
<li><strong>400</strong>

<ul>
<li><em>INCORRECT_REQUEST_CONTENT</em> - Content provided was not in a valid format, or was incomplete. In 
most cases, this means <em>type is incorrect</em> e.g. marks is a string, not a number, <em>something was missing</em>
e.g. you asked for a specific material but didn&#39;t provide an ID, <em>something is invalid value</em>, you gave
an argument which didn&#39;t conform to the required value.
Note, not all of our server side validation does sense checking, if you send two values which are contradictory
our server may not recognise this as an incorrect request. Validation is not a substitution for a well formed
request. Provides <em>invalid</em> to show what data it thinks is invalid</li>
<li><em>MISSING_REQUEST_CONTENT</em> - Content was specifically missing that was required. Generally speaking this means
you&#39;ve missed a request parameter that is explicitly required.</li>
</ul></li>
<li><strong>401</strong>

<ul>
<li><em>MISSING_AUTHENTICATION_HEADERS</em> - The required authentication headers were not included in the
request, we recommend checking for typos, or null values in your <code>tryal-app-id</code> and <code>tryal-app-token</code>
variables</li>
<li><em>INVALID_APPLICATION_TOKEN</em> - The application with the given id <code>tryal-app-id</code> does not correspond to
the token provided, most likely, your ID is correct, however your token is incorrect</li>
</ul></li>
<li><strong>403</strong>

<ul>
<li><em>NO_SUBSCRIPTION</em> - The account associated with this application does not currently have an active
subscription, or the billing is in arrears and access has been suspended.</li>
</ul></li>
<li><strong>404</strong>

<ul>
<li><em>APPLICATION_NOT_FOUND</em> - An application with the given <code>tryal-app-id</code> could not be found in our
currently listed active applications</li>
</ul></li>
</ul>
<h1 id='delete-tryals'><span class="delete">DELETE</span> /tryals</h1><h1 id='post-tryals-delete'><span class="post">POST</span> /tryals/delete</h1><h2 id='delete-previously-generated-tryal-ai-material'>Delete previously generated Tryal.AI material</h2>
<blockquote>
<p>Allows you to delete a previously generated Tryal.AI material</p>
</blockquote>
<div class="highlight"><pre class="highlight shell tab-shell"><code><span class="c">#Authorisation headers omitted</span>
curl <span class="s2">"https://api.tryal.ai/tryals/delete"</span>
curl <span class="nt">-X</span> DELETE <span class="s2">"https://api.tryal.ai/tryals"</span>
</code></pre></div><div class="highlight"><pre class="highlight javascript tab-javascript"><code><span class="c1">// We recommend cross-fetch to write easy HTTP requests</span>
<span class="kd">var</span> <span class="nx">fetch</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="dl">'</span><span class="s1">cross-fetch</span><span class="dl">'</span><span class="p">);</span>

<span class="c1">// Promise based request</span>
<span class="kd">var</span> <span class="nx">promise</span> <span class="o">=</span> <span class="nx">fetch</span><span class="p">(</span><span class="dl">'</span><span class="s1">https://api.tryal.ai/tryals/delete</span><span class="dl">'</span><span class="p">,</span> <span class="p">{</span>
  <span class="na">method</span><span class="p">:</span> <span class="dl">'</span><span class="s1">post</span><span class="dl">'</span><span class="p">,</span>
  <span class="na">headers</span><span class="p">:</span> <span class="p">{</span>
    <span class="dl">'</span><span class="s1">Content-Type</span><span class="dl">'</span><span class="p">:</span> <span class="dl">'</span><span class="s1">application/json</span><span class="dl">'</span>
    <span class="c1">//Authorisation headers omitted</span>
  <span class="p">},</span> 
  <span class="na">body</span><span class="p">:</span> <span class="nx">JSON</span><span class="p">.</span><span class="nx">stringify</span><span class="p">({</span>
    <span class="na">id</span><span class="p">:</span> <span class="dl">"</span><span class="s2">007d3281ec51592e6d2a9b1955d9061e610627a159e1a914702868ca7ef854ba</span><span class="dl">"</span><span class="p">,</span>
  <span class="p">})</span>
<span class="p">}).</span><span class="nx">then</span><span class="p">(</span><span class="kd">function</span><span class="p">(</span><span class="nx">res</span><span class="p">)</span> <span class="p">{</span>
  <span class="k">if</span> <span class="p">(</span><span class="nx">res</span><span class="p">.</span><span class="nx">status</span> <span class="o">!==</span> <span class="mi">200</span><span class="p">)</span> <span class="p">{</span>
    <span class="c1">//handle failed response</span>
  <span class="p">}</span> <span class="k">else</span> <span class="p">{</span>
    <span class="c1">// Note that we use blob here, not json</span>
    <span class="nx">res</span><span class="p">.</span><span class="nx">json</span><span class="p">().</span><span class="nx">then</span><span class="p">(</span><span class="kd">function</span> <span class="p">(</span><span class="nx">result</span><span class="p">)</span> <span class="p">{</span>
        <span class="c1">// print the result of the delete request</span>
        <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">result</span><span class="p">)</span>
    <span class="p">});</span>
  <span class="p">}</span>
<span class="p">}).</span><span class="k">catch</span><span class="p">(</span><span class="kd">function</span><span class="p">(</span><span class="nx">err</span><span class="p">)</span> <span class="p">{</span>
  <span class="c1">//Handle any errors</span>
<span class="p">});</span>
</code></pre></div><div class="highlight"><pre class="highlight javascript tab-javascript--ESNext"><code><span class="c1">// We recommend cross-fetch to write easy HTTP requests</span>
<span class="k">import</span> <span class="nx">fetch</span> <span class="k">from</span> <span class="dl">'</span><span class="s1">cross-fetch</span><span class="dl">'</span><span class="p">;</span>

<span class="kd">const</span> <span class="nx">REQUEST_ERROR</span> <span class="o">=</span> <span class="p">{</span>
  <span class="na">message</span><span class="p">:</span> <span class="dl">'</span><span class="s1">Our request to Tryal.AI failed</span><span class="dl">'</span>
<span class="p">}</span>

<span class="k">async</span> <span class="kd">function</span> <span class="nx">deleteTryal</span><span class="p">()</span> <span class="p">{</span>
  <span class="k">try</span> <span class="p">{</span>
    <span class="kd">const</span> <span class="nx">response</span> <span class="o">=</span> <span class="k">await</span> <span class="nx">fetch</span><span class="p">(</span><span class="s2">`https://api.tryal.ai/tryals/delete`</span><span class="p">,</span> <span class="p">{</span>
      <span class="na">method</span><span class="p">:</span> <span class="dl">'</span><span class="s1">post</span><span class="dl">'</span><span class="p">,</span>
      <span class="na">headers</span><span class="p">:</span> <span class="p">{</span>
        <span class="dl">'</span><span class="s1">Content-Type</span><span class="dl">'</span><span class="p">:</span> <span class="dl">'</span><span class="s1">application/json</span><span class="dl">'</span>
        <span class="c1">//Authorisation headers omitted</span>
      <span class="p">},</span>
      <span class="na">body</span><span class="p">:</span> <span class="nx">JSON</span><span class="p">.</span><span class="nx">stringify</span><span class="p">({</span>
                <span class="na">id</span><span class="p">:</span> <span class="dl">"</span><span class="s2">007d3281ec51592e6d2a9b1955d9061e610627a159e1a914702868ca7ef854ba</span><span class="dl">"</span><span class="p">,</span>
            <span class="p">})</span>
    <span class="p">});</span>
    <span class="k">if</span> <span class="p">(</span><span class="nx">response</span><span class="p">.</span><span class="nx">status</span> <span class="o">==</span> <span class="mi">200</span><span class="p">)</span> <span class="p">{</span>
      <span class="kd">const</span> <span class="nx">result</span> <span class="o">=</span> <span class="k">await</span> <span class="nx">response</span><span class="p">.</span><span class="nx">json</span><span class="p">();</span>
      <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">result</span><span class="p">);</span>
    <span class="p">}</span> <span class="k">else</span> <span class="p">{</span>
      <span class="k">throw</span> <span class="nx">REQUEST_ERROR</span>
    <span class="p">}</span>
  <span class="p">}</span> <span class="k">catch</span><span class="p">(</span><span class="nx">err</span><span class="p">)</span> <span class="p">{</span>
    <span class="c1">// Do error handling</span>
  <span class="p">}</span>
<span class="p">}</span>
</code></pre></div>
<blockquote>
<p>The above command returns a json with a success message, this response is not meaningful</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"message"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Paper successfully deleted"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<p>These endpoints allow you to delete a Tryal. These endpoints are equivalent and are designed to support
different ways of structuring requests. Some developers favour using different types of explicit HTTP
request types, others favour endpoints which describe their action and predominantly rely on this to define
the action.</p>

<p>Deleting Tryals is particularly useful if you wish to provide a history service through your platform. E.g. allowing your users to access their previous material. Deleting allows you to use our database and storage solution to keep a record of the material still available.</p>

<aside class="notice">
  Deleting a Tryal does not remove it from usage, which means you can still get an accurate picture of your usage 
</aside>
<h3 id='http-request'>HTTP Request</h3>
<p><code>DELETE https://api.tryal.ai/tryals</code></p>

<p><code>POST https://api.tryal.ai/tryals/delete</code></p>
<h3 id='body-parameters'>Body Parameters</h3>
<table><thead>
<tr>
<th>Parameter</th>
<th>Required</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><code>id</code></td>
<td>Yes</td>
<td>SHA256</td>
<td>The ID of the material you wish to delete</td>
</tr>
</tbody></table>
<h3 id='billing'>Billing</h3>
<p>There is no applicable fee for deleting tryal material. Deleting a Tryal does not affect your usage record making usage representative of actual usage.</p>
<h3 id='response'>Response</h3>
<ul>
<li><strong>200</strong>

<ul>
<li>A standard JSON success message is included. If you receive a code 200, you can assume this endpoint has been successful without checking the body of the request.</li>
</ul></li>
</ul>
<h3 id='errors'>Errors</h3>
<ul>
<li><strong>500</strong>

<ul>
<li><em>GENERATOR_CALL_FAILED</em> - The generator didn&#39;t respond to our API server, this may be indicative of a server
update or maintenance period. If this problem persists, please contact support and we will investigate.</li>
</ul></li>
<li><strong>400</strong>

<ul>
<li><em>INCORRECT_REQUEST_CONTENT</em> - Content provided was not in a valid format, or was incomplete. In 
most cases, this means <em>type is incorrect</em> e.g. marks is a string, not a number, <em>something was missing</em>
e.g. you asked for a specific material but didn&#39;t provide an ID, <em>something is invalid value</em>, you gave
an argument which didn&#39;t conform to the required value.
Note, not all of our server side validation does sense checking, if you send two values which are contradictory
our server may not recognise this as an incorrect request. Validation is not a substitution for a well formed
request. Provides <em>invalid</em> to show what data it thinks is invalid</li>
<li><em>MISSING_REQUEST_CONTENT</em> - Content was specifically missing that was required. Generally speaking this means
you&#39;ve missed a request parameter that is explicitly required.</li>
</ul></li>
<li><strong>401</strong>

<ul>
<li><em>MISSING_AUTHENTICATION_HEADERS</em> - The required authentication headers were not included in the
request, we recommend checking for typos, or null values in your <code>tryal-app-id</code> and <code>tryal-app-token</code>
variables</li>
<li><em>INVALID_APPLICATION_TOKEN</em> - The application with the given id <code>tryal-app-id</code> does not correspond to
the token provided, most likely, your ID is correct, however your token is incorrect</li>
</ul></li>
<li><strong>403</strong>

<ul>
<li><em>NO_SUBSCRIPTION</em> - The account associated with this application does not currently have an active
subscription, or the billing is in arrears and access has been suspended.</li>
</ul></li>
<li><strong>404</strong>

<ul>
<li><em>APPLICATION_NOT_FOUND</em> - An application with the given <code>tryal-app-id</code> could not be found in our
currently listed active applications</li>
<li><em>DELETE_FAILED</em> - Generally doesn&#39;t happen because if the material doesn&#39;t exist we just mark it as already deleted, however this is coded in the event that the delete process goes wrong. Possibly if the file is being simultaneously accessed and thus subject to an access lock.<br></li>
</ul></li>
</ul>
<h1 id='configuring-generation'>Configuring Generation</h1>
<p>Tryal.AI allows you a lot of control over how you generate material. We estimate that with the parameters currently available, there are 525 Sextillion combinations (525,000,000,000,000,000,000,000) of ways to configure our generator. </p>

<p>In most cases these changes are inconsequential - 79 marks is after all, pretty much 80. There are certain configurations for which Tryal.AI will never work. Due however, to the vast number of ways to configure the generator, it&#39;s not necessarily possible for us to do this sense checking at runtime. </p>

<p>Instead, Tryal.AI&#39;s internal mechanisms are designed to fail gracefully, when a given configuration results in a contradictory and impossible to satisfy request. However, being non-deterministic, it is also possible that Tryal.AI failed to generate material in this specific moment. Two identical requests made now are not both guaranteed to succeed.</p>

<p>We try to minimise failure for reasons other than bad configuration input, but it&#39;s impossible to completely reduce the risk. Additionally, more complex configurations can lower the chance of Tryal.AI succeeding. This typically occurs during requests that narrow the number of questions we can choose from (such as when limiting by topics or subtopics). </p>
<h2 id='an-example-of-bad-configuration'>An example of bad configuration</h2>
<blockquote>
<p>In this example we use YAML for ease of reading.</p>
</blockquote>
<div class="highlight"><pre class="highlight yaml tab-yaml"><code><span class="na">quantity</span><span class="pi">:</span> <span class="m">50</span>
<span class="na">repeat</span><span class="pi">:</span> <span class="s1">'</span><span class="s">off'</span>
<span class="na">exclude</span><span class="pi">:</span> 
  <span class="na">algebra</span><span class="pi">:</span> <span class="s">all</span>
  <span class="na">geometry</span><span class="pi">:</span> <span class="s">all</span>
  <span class="na">statistics</span><span class="pi">:</span> <span class="s">all</span>
  <span class="na">proportions</span><span class="pi">:</span> <span class="s">all</span>
  <span class="na">numbers</span><span class="pi">:</span>
  <span class="pi">-</span> <span class="s">primes</span>
  <span class="pi">-</span> <span class="s">sequences</span>
  <span class="pi">-</span> <span class="s">money</span>
  <span class="pi">-</span> <span class="s">general</span>
  <span class="pi">-</span> <span class="s">indices</span>
  <span class="c1">#- fdp ## FDP is included</span>
  <span class="pi">-</span> <span class="s">calculator</span>
  <span class="pi">-</span> <span class="s">time</span>
  <span class="pi">-</span> <span class="s">hcflcm</span>
  <span class="pi">-</span> <span class="s">rounding</span>
  <span class="pi">-</span> <span class="s">settheory</span>
  <span class="pi">-</span> <span class="s">estimate</span>
  <span class="pi">-</span> <span class="s">standardform</span>
  <span class="pi">-</span> <span class="s">factors</span>
  <span class="pi">-</span> <span class="s">proof</span>
  <span class="pi">-</span> <span class="s">surds</span>
</code></pre></div>
<p>Take this scenario. I have elected to not allow Tryal.AI to repeat any question structure more than once (a rule designed to ensure that a GCSE mock paper has a diverse set of questions), but simultaneously told it that it can only use questions from <code>fdp</code> (Fractions, Decimals and Percentages). The odds are that Tryal.AI cannot produce 50 substantially different questions on just FDP, particularly as Tryal.AI takes into account the underlying methodology in the question when deciding if a question is the same (and thus <strong>should not</strong> be repeated).</p>

<p>Now you might be saying, &quot;Well ignore the repeat rule and just do it&quot;. We could allow Tryal.AI to override rules it has been provided, and generate approximate material. However, this might be seen as disingenuous when the generator has been given an instruction and decided not to follow it. As we bill for material generated, we also felt not providing the material because we cannot do what you&#39;ve asked is preferable, as it doesn&#39;t incur a cost to you.</p>

<p>We&#39;re working on ways to better explain what went wrong in generation, but due to the nature of artificial intelligence this isn&#39;t always necessarily possible. In fact, there&#39;s an entire area of research in the field of AI dedicated to understanding how to <a href="https://en.wikipedia.org/wiki/Explainable_artificial_intelligence">explain when and why an AI failed (or succeeded)</a></p>

<p>This does mean however, that the burden of sensible error handling is passed on to Tryal.AI Develop users. In general we have a small family of errors which indicate that the generator has failed, detailed below. </p>

<aside class="notice">
  In general, if the same call fails more than 2 or 3 times, it's probably not going to succeed. Our generator makes approximately 12 tries before returning a failed result, meaning 3 failed calls, is over 36 failed generation attempts.
</aside>
<h2 id='generation-errors'>Generation Errors</h2>
<ul>
<li><strong>500</strong>

<ul>
<li><em>GENERATOR_CALL_FAILED</em> - We couldn&#39;t reach the generator and get it to process your request. This typically only happens during maintenance. Maintenance typically doesn&#39;t last long, but in exceptionally rare cases, it may result in a request being dropped.
We recommend retrying this call after waiting a few seconds. If this response persists, you should contact support.</li>
<li><em>GENERATOR_FAILED</em> - Indicates that generation has failed, this response can happen for both reasons mentioned above, the rare cases where it is possible to generate material, but in this specific instance Tryal.AI has failed. The more likely case of poor configuration.</li>
</ul></li>
<li><strong>404</strong>

<ul>
<li><em>RETRIEVE_FAILED</em> - This is typically a data storage issue and not indicative of a configuration issue. It may be that the item your trying to retrieve is no longer being stored by our data storage. Please see storage and retrieval time limits for Tryal.AI material.</li>
</ul></li>
</ul>
<h1 id='storage-and-retrieval'>Storage and Retrieval</h1>
<p>When a Tryal.AI material is generated (e.g. using <a href="#post-tryals-create"><span class="post">post</span> /tryals/create</a>), it is not returned immediately on that call. Instead a record of that newly generated material is returned to allow you to retrieve the paper and mark scheme on separate future calls.</p>

<p>As a result, it is possible to delay the retrieval of material to a later date. In some use cases, this is practical, for example provisioning a question paper and waiting to release the mark scheme until the student has made some attempt. </p>

<p>Tryal.AI does have limits on how long material can be retrieved for.</p>

<p><strong>Our general policy is that material will be available for 30 days after first generation, or until your subscription expires, whichever is sooner</strong></p>

<p>After that, it may still be possible to retrieve material, however we provide no guarantees on the availability of that material. You should assume that any material older than 30 days is no longer available. </p>

<aside class="notice">
    Calling `/tryals/delete` will immediately make material unavailable and is irreversible.
</aside>
<h1 id='questions-api-beta'>Questions API (Beta)</h1>
<p>Our Questions API provides programmatic access to our question generation service. The Questions API is designed for services who want to utilise Tryal.AI&#39;s state-of-the-art AI to dynamically produce questions for their users. This API is a work in progress and we will be releasing new features to it based on user feedback and our learning process.</p>

<p>We value your feedback, and we&#39;d love to hear what aspects of our datasets and tooling you&#39;d like to utilise in our platform. You can file a features request via issues on <a href="https://app.tryal.ai">your dashboard</a>.</p>

<p>Questions has a much simpler user flow and is designed to be built upon by providing only the bare bones of what you need</p>

<ol>
<li><p>Retrieve a list of questions from our database via <a href="#get-questions"><span class="get">get</span> /questions</a>, this data does not include a sample of the material. </p></li>
<li><p>Retrieve a sample of a question with a given <code>id</code>, note that the same call for the same question, will result in the same response. Sample questions are static and not meant to be served to end users. The <a href="#post-questions-sample"><span class="post">post</span> /questions/sample</a> is rate limited and primarily intended for testing purposes and for occasional calls.</p></li>
<li></li>
</ol>
<h1 id='get-questions'><span class="get">GET</span> /questions</h1><h2 id='list-all-questions-available-via-tryal-ai-39-s-questions-api'>List all Questions available via Tryal.AI&#39;s Questions API</h2>
<blockquote>
<p>Allows you to retrieve a list of all questions for which we can produce variation</p>
</blockquote>
<div class="highlight"><pre class="highlight shell tab-shell"><code><span class="c">#Authorisation headers omitted</span>
curl <span class="s2">"https://api.tryal.ai/questions"</span>
</code></pre></div><div class="highlight"><pre class="highlight javascript tab-javascript"><code><span class="c1">// We recommend cross-fetch to write easy HTTP requests</span>
<span class="kd">var</span> <span class="nx">fetch</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="dl">'</span><span class="s1">cross-fetch</span><span class="dl">'</span><span class="p">);</span>

<span class="c1">// Promise based request</span>
<span class="kd">var</span> <span class="nx">promise</span> <span class="o">=</span> <span class="nx">fetch</span><span class="p">(</span><span class="dl">'</span><span class="s1">https://api.tryal.ai/questions</span><span class="dl">'</span><span class="p">,</span> <span class="p">{</span>
  <span class="na">method</span><span class="p">:</span> <span class="dl">'</span><span class="s1">get</span><span class="dl">'</span><span class="p">,</span>
  <span class="na">headers</span><span class="p">:</span> <span class="p">{</span>
    <span class="dl">'</span><span class="s1">Content-Type</span><span class="dl">'</span><span class="p">:</span> <span class="dl">'</span><span class="s1">application/json</span><span class="dl">'</span>
    <span class="c1">//Authorisation headers omitted</span>
  <span class="p">}</span>
<span class="p">}).</span><span class="nx">then</span><span class="p">(</span><span class="kd">function</span><span class="p">(</span><span class="nx">res</span><span class="p">)</span> <span class="p">{</span>
  <span class="k">if</span> <span class="p">(</span><span class="nx">res</span><span class="p">.</span><span class="nx">status</span> <span class="o">!==</span> <span class="mi">200</span><span class="p">)</span> <span class="p">{</span>
    <span class="c1">//handle failed response</span>
  <span class="p">}</span> <span class="k">else</span> <span class="p">{</span>
    <span class="c1">// unpack the response JSON</span>
    <span class="nx">res</span><span class="p">.</span><span class="nx">json</span><span class="p">().</span><span class="nx">then</span><span class="p">(</span><span class="nx">responseBody</span><span class="p">)</span> <span class="p">{</span>
      <span class="c1">//Creates output as shown below</span>
      <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">responseBody</span><span class="p">)</span>
    <span class="p">}</span>
  <span class="p">}</span>
<span class="p">}).</span><span class="k">catch</span><span class="p">(</span><span class="kd">function</span><span class="p">(</span><span class="nx">err</span><span class="p">)</span> <span class="p">{</span>
  <span class="c1">//Handle any errors</span>
<span class="p">});</span>
</code></pre></div><div class="highlight"><pre class="highlight javascript tab-javascript--ESNext"><code><span class="c1">// We recommend cross-fetch to write easy HTTP requests</span>
<span class="k">import</span> <span class="nx">fetch</span> <span class="k">from</span> <span class="dl">'</span><span class="s1">cross-fetch</span><span class="dl">'</span><span class="p">;</span>

<span class="kd">const</span> <span class="nx">REQUEST_ERROR</span> <span class="o">=</span> <span class="p">{</span>
  <span class="na">message</span><span class="p">:</span> <span class="dl">'</span><span class="s1">Our request to Tryal.AI failed</span><span class="dl">'</span>
<span class="p">}</span>

<span class="k">async</span> <span class="kd">function</span> <span class="nx">getQuestions</span><span class="p">()</span> <span class="p">{</span>
  <span class="k">try</span> <span class="p">{</span>
    <span class="kd">const</span> <span class="nx">response</span> <span class="o">=</span> <span class="k">await</span> <span class="nx">fetch</span><span class="p">(</span><span class="s2">`https://api.tryal.ai/questions`</span><span class="p">,</span> <span class="p">{</span>
      <span class="na">method</span><span class="p">:</span> <span class="dl">'</span><span class="s1">get</span><span class="dl">'</span><span class="p">,</span>
      <span class="na">headers</span><span class="p">:</span> <span class="p">{</span>
        <span class="dl">'</span><span class="s1">Content-Type</span><span class="dl">'</span><span class="p">:</span> <span class="dl">'</span><span class="s1">application/json</span><span class="dl">'</span>
        <span class="c1">//Authorisation headers omitted</span>
      <span class="p">},</span>
    <span class="p">});</span>
    <span class="k">if</span> <span class="p">(</span><span class="nx">response</span><span class="p">.</span><span class="nx">status</span> <span class="o">==</span> <span class="mi">200</span><span class="p">)</span> <span class="p">{</span>
      <span class="c1">//Produces result shown</span>
      <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="k">await</span> <span class="nx">response</span><span class="p">.</span><span class="nx">json</span><span class="p">());</span>
    <span class="p">}</span> <span class="k">else</span> <span class="p">{</span>
      <span class="k">throw</span> <span class="nx">REQUEST_ERROR</span>
    <span class="p">}</span>
  <span class="p">}</span> <span class="k">catch</span><span class="p">(</span><span class="nx">err</span><span class="p">)</span> <span class="p">{</span>
    <span class="c1">// Do error handling</span>
  <span class="p">}</span>
<span class="p">}</span>
</code></pre></div>
<blockquote>
<p>The above command returns JSON structured like this:</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">[</span><span class="w">
  </span><span class="p">{</span><span class="w">
    </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"45f1d3e0ed7914dba71da1fecad6a4464badc22b0ec7d2ebbedcd194110b3699"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"board"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
      </span><span class="s2">"edexcel"</span><span class="w">
    </span><span class="p">],</span><span class="w">
    </span><span class="nl">"level"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
      </span><span class="s2">"foundation"</span><span class="w">
    </span><span class="p">],</span><span class="w">
    </span><span class="nl">"marks"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
    </span><span class="nl">"suitability"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nl">"calculator"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
      </span><span class="nl">"noncalculator"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nl">"ao"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nl">"main"</span><span class="p">:</span><span class="w"> </span><span class="s2">"3"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"sub"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"sub_sub"</span><span class="p">:</span><span class="w"> </span><span class="s2">"d"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nl">"topics"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nl">"algebra"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
        </span><span class="s2">"simultaneous"</span><span class="w">
      </span><span class="p">],</span><span class="w">
      </span><span class="nl">"proportions"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
        </span><span class="s2">"food"</span><span class="w">
      </span><span class="p">]</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">}</span><span class="w">
  </span><span class="err">//</span><span class="w"> </span><span class="err">More</span><span class="w"> </span><span class="err">questions</span><span class="w"> </span><span class="err">omitted</span><span class="w">
</span><span class="p">]</span><span class="w">
</span></code></pre></div>
<p>This endpoint retrieves all questions currently available via our API. As our question modelling system grows, we will implement search and filter features to allow you to narrow the field of questions. This method does not retrieve an example of the question itself. To generate a sample material, you can use <code>/questions/sample</code>.</p>

<aside class="notice">
  As we release new material every week, this endpoint should be actively polled. 
</aside>

<aside class="notice">
  Whilst we try to minimise the id hash from changing, we may pull questions from our service from time to time, or reformat them in such a way that affects their hash code. To reduce the impact on your service, try not to depend on a single question id
</aside>
<h3 id='http-request'>HTTP Request</h3>
<p><code>GET https://api.tryal.ai/questions</code></p>
<h3 id='body-parameters'>Body Parameters</h3>
<p>No parameters. Search and filter parameters may be introduce in the feature, as a non-breaking change.</p>
<h3 id='billing'>Billing</h3>
<p>There is no applicable fee for accessing this endpoint.</p>
<h3 id='response'>Response</h3>
<ul>
<li><strong>200</strong>

<ul>
<li>An array of questions available for generation via our platform. This is a metadata overview and doesn&#39;t include a sample of the actual question</li>
</ul></li>
</ul>

<table><thead>
<tr>
<th>Key</th>
<th>Value</th>
</tr>
</thead><tbody>
<tr>
<td><code>id</code></td>
<td>uniquely identifies this question, used for sampling and generation</td>
</tr>
<tr>
<td><code>board</code></td>
<td>An array of boards for which we consider this question to be appropriate</td>
</tr>
<tr>
<td><code>level</code></td>
<td>An array of levels for which we consider this material to be appropriate, typically if both &#39;foundation&#39; and &#39;higher&#39; are present this is indicative of it being harder for foundation and easier for higher</td>
</tr>
<tr>
<td><code>marks</code></td>
<td>The number of marks this question is marked out of</td>
</tr>
<tr>
<td><code>suitability</code></td>
<td>boolean key value pairs indicating if a question is suitable for calculator or non-calculator</td>
</tr>
<tr>
<td><code>ao</code></td>
<td>A record of the assessment objective this question most closely corresponds to. We catalog main, sub and where available, sub sub objectives to give a high level of precision over what is expected on this question. In some cases, the <code>sub_sub</code> value is arrayed to indicate that it corresponds to more than one sub-sub objective</td>
</tr>
<tr>
<td><code>topics</code></td>
<td>A JSON object with topic keys corresponding to an array of subtopics.</td>
</tr>
</tbody></table>

<p>A single question metadata response is shown on the right. </p>
<h3 id='errors'>Errors</h3>
<ul>
<li><strong>500</strong>

<ul>
<li><em>GENERATOR_CALL_FAILED</em> - The generator didn&#39;t respond to our API server, this may be indicative of a server
update or maintenance period. If this problem persists, please contact support and we will investigate.</li>
<li><em>GENERATOR_FAILED</em> - Generally indicates that material with the given parameters could not be generated. Typically indicative of a bad generation request, but may be due to failed generation. You will not be billed for any failed generation attempts.</li>
</ul></li>
<li><strong>400</strong>

<ul>
<li><em>INCORRECT_REQUEST_CONTENT</em> - Content provided was not in a valid format, or was incomplete. In 
most cases, this means <em>type is incorrect</em> e.g. marks is a string, not a number, <em>something was missing</em>
e.g. you asked for a specific material but didn&#39;t provide an ID, <em>something is invalid value</em>, you gave
an argument which didn&#39;t conform to the required value.
Note, not all of our server side validation does sense checking, if you send two values which are contradictory
our server may not recognise this as an incorrect request. Validation is not a substitution for a well formed
request. Provides <em>invalid</em> to show what data it thinks is invalid</li>
<li><em>MISSING_REQUEST_CONTENT</em> - Content was specifically missing that was required. Generally speaking this means
you&#39;ve missed a request parameter that is explicitly required.</li>
</ul></li>
<li><strong>401</strong>

<ul>
<li><em>MISSING_AUTHENTICATION_HEADERS</em> - The required authentication headers were not included in the
request, we recommend checking for typos, or null values in your <code>tryal-app-id</code> and <code>tryal-app-token</code>
variables</li>
<li><em>INVALID_APPLICATION_TOKEN</em> - The application with the given id <code>tryal-app-id</code> does not correspond to
the token provided, most likely, your ID is correct, however your token is incorrect</li>
</ul></li>
<li><strong>403</strong>

<ul>
<li><em>NO_SUBSCRIPTION</em> - The account associated with this application does not currently have an active
subscription, or the billing is in arrears and access has been suspended.</li>
</ul></li>
<li><strong>404</strong>

<ul>
<li><em>APPLICATION_NOT_FOUND</em> - An application with the given <code>tryal-app-id</code> could not be found in our
currently listed active applications</li>
</ul></li>
</ul>
<h1 id='post-questions-sample'><span class="post">POST</span> /questions/sample</h1><h2 id='sample-a-given-questions'>Sample a given questions</h2>
<blockquote>
<p>Allows you to see a static example of a question generated with the given ID</p>
</blockquote>
<div class="highlight"><pre class="highlight shell tab-shell"><code><span class="c">#Authorisation headers omitted</span>
curl <span class="s2">"https://api.tryal.ai/questions/sample"</span>
</code></pre></div><div class="highlight"><pre class="highlight javascript tab-javascript"><code><span class="c1">// We recommend cross-fetch to write easy HTTP requests</span>
<span class="kd">var</span> <span class="nx">fetch</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="dl">'</span><span class="s1">cross-fetch</span><span class="dl">'</span><span class="p">);</span>

<span class="c1">// Promise based request</span>
<span class="kd">var</span> <span class="nx">promise</span> <span class="o">=</span> <span class="nx">fetch</span><span class="p">(</span><span class="dl">'</span><span class="s1">https://api.tryal.ai/questions/sample</span><span class="dl">'</span><span class="p">,</span> <span class="p">{</span>
  <span class="na">method</span><span class="p">:</span> <span class="dl">'</span><span class="s1">post</span><span class="dl">'</span><span class="p">,</span>
  <span class="na">headers</span><span class="p">:</span> <span class="p">{</span>
    <span class="dl">'</span><span class="s1">Content-Type</span><span class="dl">'</span><span class="p">:</span> <span class="dl">'</span><span class="s1">application/json</span><span class="dl">'</span>
    <span class="c1">//Authorisation headers omitted</span>
  <span class="p">},</span> 
  <span class="na">body</span><span class="p">:</span> <span class="nx">JSON</span><span class="p">.</span><span class="nx">stringify</span><span class="p">({</span>
    <span class="na">id</span><span class="p">:</span> <span class="dl">"</span><span class="s2">007d3281ec51592e6d2a9b1955d9061e610627a159e1a914702868ca7ef854ba</span><span class="dl">"</span><span class="p">,</span>
  <span class="p">})</span>
<span class="p">}).</span><span class="nx">then</span><span class="p">(</span><span class="kd">function</span><span class="p">(</span><span class="nx">res</span><span class="p">)</span> <span class="p">{</span>
  <span class="k">if</span> <span class="p">(</span><span class="nx">res</span><span class="p">.</span><span class="nx">status</span> <span class="o">!==</span> <span class="mi">200</span><span class="p">)</span> <span class="p">{</span>
    <span class="c1">//handle failed response</span>
  <span class="p">}</span> <span class="k">else</span> <span class="p">{</span>
    <span class="nx">res</span><span class="p">.</span><span class="nx">json</span><span class="p">().</span><span class="nx">then</span><span class="p">(</span><span class="kd">function</span> <span class="p">(</span><span class="nx">result</span><span class="p">)</span> <span class="p">{</span>
        <span class="c1">// print the result of the recycle request</span>
        <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">result</span><span class="p">)</span>
    <span class="p">});</span>
  <span class="p">}</span>
<span class="p">}).</span><span class="k">catch</span><span class="p">(</span><span class="kd">function</span><span class="p">(</span><span class="nx">err</span><span class="p">)</span> <span class="p">{</span>
  <span class="c1">//Handle any errors</span>
<span class="p">});</span>
</code></pre></div><div class="highlight"><pre class="highlight javascript tab-javascript--ESNext"><code><span class="c1">// We recommend cross-fetch to write easy HTTP requests</span>
<span class="k">import</span> <span class="nx">fetch</span> <span class="k">from</span> <span class="dl">'</span><span class="s1">cross-fetch</span><span class="dl">'</span><span class="p">;</span>

<span class="kd">const</span> <span class="nx">REQUEST_ERROR</span> <span class="o">=</span> <span class="p">{</span>
  <span class="na">message</span><span class="p">:</span> <span class="dl">'</span><span class="s1">Our request to Tryal.AI failed</span><span class="dl">'</span>
<span class="p">}</span>

<span class="k">async</span> <span class="kd">function</span> <span class="nx">sampleQuestion</span><span class="p">()</span> <span class="p">{</span>
  <span class="k">try</span> <span class="p">{</span>
    <span class="kd">const</span> <span class="nx">response</span> <span class="o">=</span> <span class="k">await</span> <span class="nx">fetch</span><span class="p">(</span><span class="s2">`https://api.tryal.ai/questions/sample`</span><span class="p">,</span> <span class="p">{</span>
      <span class="na">method</span><span class="p">:</span> <span class="dl">'</span><span class="s1">post</span><span class="dl">'</span><span class="p">,</span>
      <span class="na">headers</span><span class="p">:</span> <span class="p">{</span>
        <span class="dl">'</span><span class="s1">Content-Type</span><span class="dl">'</span><span class="p">:</span> <span class="dl">'</span><span class="s1">application/json</span><span class="dl">'</span>
        <span class="c1">//Authorisation headers omitted</span>
      <span class="p">},</span>
      <span class="na">body</span><span class="p">:</span> <span class="nx">JSON</span><span class="p">.</span><span class="nx">stringify</span><span class="p">({</span>
                <span class="na">id</span><span class="p">:</span> <span class="dl">"</span><span class="s2">007d3281ec51592e6d2a9b1955d9061e610627a159e1a914702868ca7ef854ba</span><span class="dl">"</span><span class="p">,</span>
            <span class="p">})</span>
    <span class="p">});</span>
    <span class="k">if</span> <span class="p">(</span><span class="nx">response</span><span class="p">.</span><span class="nx">status</span> <span class="o">==</span> <span class="mi">200</span><span class="p">)</span> <span class="p">{</span>
      <span class="kd">const</span> <span class="nx">result</span> <span class="o">=</span> <span class="k">await</span> <span class="nx">response</span><span class="p">.</span><span class="nx">json</span><span class="p">();</span>
      <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">result</span><span class="p">);</span>
    <span class="p">}</span> <span class="k">else</span> <span class="p">{</span>
      <span class="k">throw</span> <span class="nx">REQUEST_ERROR</span>
    <span class="p">}</span>
  <span class="p">}</span> <span class="k">catch</span><span class="p">(</span><span class="nx">err</span><span class="p">)</span> <span class="p">{</span>
    <span class="c1">// Do error handling</span>
  <span class="p">}</span>
<span class="p">}</span>
</code></pre></div>
<blockquote>
<p>The body below shows the sample result of this request</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"keyword"</span><span class="p">:</span><span class="w"> </span><span class="s2">"tryal"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"question"</span><span class="p">:</span><span class="w"> </span><span class="s2">"$6$ tins of soup have a total weight of 1950g</span><span class="se">\n\n</span><span class="s2">$4$ tins of soup and $3$ packets of soup have a total weight of 2170g</span><span class="se">\n\n</span><span class="s2">Work out the total weight of 7 tins of soup and 5 packets of soup</span><span class="se">\n\n\n\n</span><span class="s2">"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"answer"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="nl">"marks"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
      </span><span class="nl">"text"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Method to find the weight of 1 tins of soup e.g. $1950 / 6$ (325)"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="nl">"marks"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
      </span><span class="nl">"text"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Method to find weight of 3 packets of soup e.g. $2170 - 1300 = 870$"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="nl">"marks"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
      </span><span class="nl">"text"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Method to find weight of 7 tins of soup and 5 packets of soup $7 </span><span class="se">\\</span><span class="s2">times 325$, $5 </span><span class="se">\\</span><span class="s2">time 290$"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="nl">"marks"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
      </span><span class="nl">"text"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Correct answer only 3725"</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">],</span><span class="w">
  </span><span class="nl">"marks"</span><span class="p">:</span><span class="w"> </span><span class="mi">4</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<p>Our sample endpoint allows you to retrieve an example of the question you may wish to generate to see what the general structure of it looks like. Both question and answer text are generated as they would appear in a paper and follow LaTeX Maths formatting. </p>

<p>We strip out most, but not all, whitespace formatting on the material. This is something you can either change or use as an indication of how the resource should be rendered to your client.</p>
<h3 id='http-request'>HTTP Request</h3>
<p><code>POST https://api.tryal.ai/questions/sample</code></p>
<h3 id='body-parameters'>Body Parameters</h3>
<table><thead>
<tr>
<th>Parameter</th>
<th>Required</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><code>id</code></td>
<td>Yes</td>
<td>SHA256</td>
<td>The ID of the question you wish to see a sample for</td>
</tr>
</tbody></table>
<h3 id='billing'>Billing</h3>
<p>Sampling is not billed, however, it is rate limited to 30 requests per minute. Additionally, sampling a given question more than once will result in the same sample response.</p>
<h3 id='response'>Response</h3>
<ul>
<li><strong>200</strong>

<ul>
<li>A JSON object containing the sample question, as well as related metadata that is useful for delivery and rendering to your end user</li>
</ul></li>
</ul>

<table><thead>
<tr>
<th>Key</th>
<th>Value</th>
</tr>
</thead><tbody>
<tr>
<td>keyword</td>
<td>The keyword used to provide entropy during generation, all sample questions are fixed to <code>tryal</code></td>
</tr>
<tr>
<td>question</td>
<td>The text of the question, including line breaks and LaTeX math formatting</td>
</tr>
<tr>
<td>answer</td>
<td>An array of JSON objects consist of answer text and mark pairs. Our mark scheme is designed to followed progressively, step by step awarding marks. In some cases, marks will return <code>0</code> for a line in the mark scheme, this typically indicates that the line is an additional information note</td>
</tr>
<tr>
<td>marks</td>
<td>Note that for longer questions, the marks in the answer may not add up to the marks included in the metadata. This is because the question may have multiple solutions for which we&#39;ve provided different methods and shown how they would be marked. the marks key in the main body indicates the actual marks value of the question</td>
</tr>
</tbody></table>
<h3 id='errors'>Errors</h3>
<ul>
<li><strong>500</strong>

<ul>
<li><em>GENERATOR_CALL_FAILED</em> - The generator didn&#39;t respond to our API server, this may be indicative of a server
update or maintenance period. If this problem persists, please contact support and we will investigate.</li>
<li><em>GENERATOR_FAILED</em> - Generally indicates that material with the given parameters could not be generated. Typically indicative of a bad generation request, but may be due to failed generation. You will not be billed for any failed generation attempts.</li>
</ul></li>
<li><strong>400</strong>

<ul>
<li><em>INCORRECT_REQUEST_CONTENT</em> - Content provided was not in a valid format, or was incomplete. In 
most cases, this means <em>type is incorrect</em> e.g. marks is a string, not a number, <em>something was missing</em>
e.g. you asked for a specific material but didn&#39;t provide an ID, <em>something is invalid value</em>, you gave
an argument which didn&#39;t conform to the required value.
Note, not all of our server side validation does sense checking, if you send two values which are contradictory
our server may not recognise this as an incorrect request. Validation is not a substitution for a well formed
request. Provides <em>invalid</em> to show what data it thinks is invalid</li>
<li><em>MISSING_REQUEST_CONTENT</em> - Content was specifically missing that was required. Generally speaking this means
you&#39;ve missed a request parameter that is explicitly required.</li>
</ul></li>
<li><strong>401</strong>

<ul>
<li><em>MISSING_AUTHENTICATION_HEADERS</em> - The required authentication headers were not included in the
request, we recommend checking for typos, or null values in your <code>tryal-app-id</code> and <code>tryal-app-token</code>
variables</li>
<li><em>INVALID_APPLICATION_TOKEN</em> - The application with the given id <code>tryal-app-id</code> does not correspond to
the token provided, most likely, your ID is correct, however your token is incorrect</li>
</ul></li>
<li><strong>403</strong>

<ul>
<li><em>NO_SUBSCRIPTION</em> - The account associated with this application does not currently have an active
subscription, or the billing is in arrears and access has been suspended.</li>
</ul></li>
<li><strong>404</strong>

<ul>
<li><em>APPLICATION_NOT_FOUND</em> - An application with the given <code>tryal-app-id</code> could not be found in our
currently listed active applications</li>
</ul></li>
</ul>
<h1 id='post-questions-create'><span class="post">POST</span> /questions/create</h1><h2 id='create-a-question-from-the-given-id'>Create a Question from the given ID</h2>
<blockquote>
<p>Allows you to generate a question from the chosen ID</p>
</blockquote>
<div class="highlight"><pre class="highlight shell tab-shell"><code><span class="c">#Authorisation headers omitted</span>
curl <span class="s2">"https://api.tryal.ai/questions/create"</span>
</code></pre></div><div class="highlight"><pre class="highlight javascript tab-javascript"><code><span class="c1">// We recommend cross-fetch to write easy HTTP requests</span>
<span class="kd">var</span> <span class="nx">fetch</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="dl">'</span><span class="s1">cross-fetch</span><span class="dl">'</span><span class="p">);</span>

<span class="c1">// Promise based request</span>
<span class="kd">var</span> <span class="nx">promise</span> <span class="o">=</span> <span class="nx">fetch</span><span class="p">(</span><span class="dl">'</span><span class="s1">https://api.tryal.ai/questions/create</span><span class="dl">'</span><span class="p">,</span> <span class="p">{</span>
  <span class="na">method</span><span class="p">:</span> <span class="dl">'</span><span class="s1">post</span><span class="dl">'</span><span class="p">,</span>
  <span class="na">headers</span><span class="p">:</span> <span class="p">{</span>
    <span class="dl">'</span><span class="s1">Content-Type</span><span class="dl">'</span><span class="p">:</span> <span class="dl">'</span><span class="s1">application/json</span><span class="dl">'</span>
    <span class="c1">//Authorisation headers omitted</span>
  <span class="p">},</span> 
  <span class="na">body</span><span class="p">:</span> <span class="nx">JSON</span><span class="p">.</span><span class="nx">stringify</span><span class="p">({</span>
    <span class="na">id</span><span class="p">:</span> <span class="dl">"</span><span class="s2">007d3281ec51592e6d2a9b1955d9061e610627a159e1a914702868ca7ef854ba</span><span class="dl">"</span><span class="p">,</span>
    <span class="na">keyword</span><span class="p">:</span> <span class="dl">"</span><span class="s2">somerandomword</span><span class="dl">"</span><span class="p">,</span>
  <span class="p">})</span>
<span class="p">}).</span><span class="nx">then</span><span class="p">(</span><span class="kd">function</span><span class="p">(</span><span class="nx">res</span><span class="p">)</span> <span class="p">{</span>
  <span class="k">if</span> <span class="p">(</span><span class="nx">res</span><span class="p">.</span><span class="nx">status</span> <span class="o">!==</span> <span class="mi">200</span><span class="p">)</span> <span class="p">{</span>
    <span class="c1">//handle failed response</span>
  <span class="p">}</span> <span class="k">else</span> <span class="p">{</span>
    <span class="nx">res</span><span class="p">.</span><span class="nx">json</span><span class="p">().</span><span class="nx">then</span><span class="p">(</span><span class="kd">function</span> <span class="p">(</span><span class="nx">result</span><span class="p">)</span> <span class="p">{</span>
        <span class="c1">// print the result of the recycle request</span>
        <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">result</span><span class="p">)</span>
    <span class="p">});</span>
  <span class="p">}</span>
<span class="p">}).</span><span class="k">catch</span><span class="p">(</span><span class="kd">function</span><span class="p">(</span><span class="nx">err</span><span class="p">)</span> <span class="p">{</span>
  <span class="c1">//Handle any errors</span>
<span class="p">});</span>
</code></pre></div><div class="highlight"><pre class="highlight javascript tab-javascript--ESNext"><code><span class="c1">// We recommend cross-fetch to write easy HTTP requests</span>
<span class="k">import</span> <span class="nx">fetch</span> <span class="k">from</span> <span class="dl">'</span><span class="s1">cross-fetch</span><span class="dl">'</span><span class="p">;</span>

<span class="kd">const</span> <span class="nx">REQUEST_ERROR</span> <span class="o">=</span> <span class="p">{</span>
  <span class="na">message</span><span class="p">:</span> <span class="dl">'</span><span class="s1">Our request to Tryal.AI failed</span><span class="dl">'</span>
<span class="p">}</span>

<span class="k">async</span> <span class="kd">function</span> <span class="nx">generateQuestion</span><span class="p">()</span> <span class="p">{</span>
  <span class="k">try</span> <span class="p">{</span>
    <span class="kd">const</span> <span class="nx">response</span> <span class="o">=</span> <span class="k">await</span> <span class="nx">fetch</span><span class="p">(</span><span class="s2">`https://api.tryal.ai/questions/create`</span><span class="p">,</span> <span class="p">{</span>
      <span class="na">method</span><span class="p">:</span> <span class="dl">'</span><span class="s1">post</span><span class="dl">'</span><span class="p">,</span>
      <span class="na">headers</span><span class="p">:</span> <span class="p">{</span>
        <span class="dl">'</span><span class="s1">Content-Type</span><span class="dl">'</span><span class="p">:</span> <span class="dl">'</span><span class="s1">application/json</span><span class="dl">'</span>
        <span class="c1">//Authorisation headers omitted</span>
      <span class="p">},</span>
      <span class="na">body</span><span class="p">:</span> <span class="nx">JSON</span><span class="p">.</span><span class="nx">stringify</span><span class="p">({</span>
                <span class="na">id</span><span class="p">:</span> <span class="dl">"</span><span class="s2">007d3281ec51592e6d2a9b1955d9061e610627a159e1a914702868ca7ef854ba</span><span class="dl">"</span><span class="p">,</span>
        <span class="na">keyword</span><span class="p">:</span> <span class="dl">"</span><span class="s2">somerandomword</span><span class="dl">"</span><span class="p">,</span>
            <span class="p">})</span>
    <span class="p">});</span>
    <span class="k">if</span> <span class="p">(</span><span class="nx">response</span><span class="p">.</span><span class="nx">status</span> <span class="o">==</span> <span class="mi">200</span><span class="p">)</span> <span class="p">{</span>
      <span class="kd">const</span> <span class="nx">result</span> <span class="o">=</span> <span class="k">await</span> <span class="nx">response</span><span class="p">.</span><span class="nx">json</span><span class="p">();</span>
      <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">result</span><span class="p">);</span>
    <span class="p">}</span> <span class="k">else</span> <span class="p">{</span>
      <span class="k">throw</span> <span class="nx">REQUEST_ERROR</span>
    <span class="p">}</span>
  <span class="p">}</span> <span class="k">catch</span><span class="p">(</span><span class="nx">err</span><span class="p">)</span> <span class="p">{</span>
    <span class="c1">// Do error handling</span>
  <span class="p">}</span>
<span class="p">}</span>
</code></pre></div>
<blockquote>
<p>The body below shows the result of this request</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"keyword"</span><span class="p">:</span><span class="w"> </span><span class="s2">"somerandomword"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"question"</span><span class="p">:</span><span class="w"> </span><span class="s2">"$6$ tins of soup have a total weight of 1950g</span><span class="se">\n\n</span><span class="s2">$4$ tins of soup and $3$ packets of soup have a total weight of 2170g</span><span class="se">\n\n</span><span class="s2">Work out the total weight of 7 tins of soup and 5 packets of soup</span><span class="se">\n\n\n\n</span><span class="s2">"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"answer"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="nl">"marks"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
      </span><span class="nl">"text"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Method to find the weight of 1 tins of soup e.g. $1950 / 6$ (325)"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="nl">"marks"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
      </span><span class="nl">"text"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Method to find weight of 3 packets of soup e.g. $2170 - 1300 = 870$"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="nl">"marks"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
      </span><span class="nl">"text"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Method to find weight of 7 tins of soup and 5 packets of soup $7 </span><span class="se">\\</span><span class="s2">times 325$, $5 </span><span class="se">\\</span><span class="s2">time 290$"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="nl">"marks"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
      </span><span class="nl">"text"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Correct answer only 3725"</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">],</span><span class="w">
  </span><span class="nl">"marks"</span><span class="p">:</span><span class="w"> </span><span class="mi">4</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<p>Our generator allows you to produce a unique question for a given question <code>id</code> either using a keyword you choose, or by allowing us to supply one. This means you can control and reliably retrieve the same responses each time you interact with our API. </p>
<h3 id='http-request'>HTTP Request</h3>
<p><code>POST https://api.tryal.ai/questions/create</code></p>
<h3 id='body-parameters'>Body Parameters</h3>
<table><thead>
<tr>
<th>Parameter</th>
<th>Required</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><code>id</code></td>
<td>Yes</td>
<td>SHA256</td>
<td>The ID of the question you wish to see a sample for</td>
</tr>
<tr>
<td><code>keyword</code></td>
<td>No</td>
<td>Any Alphanumeric String</td>
<td>The keyword to use to provide entropy for the question. The same keyword will generate the same question for the same <code>id</code>.</td>
</tr>
</tbody></table>
<h3 id='billing'>Billing</h3>
<p>Generate is usually billed at 5 marks, or if the question you generate is 6 or more marks (which most questions aren&#39;t) at the number of marks the question consists of. Whichever of the two is higher.</p>
<h3 id='response'>Response</h3>
<ul>
<li><strong>200</strong>

<ul>
<li>A JSON object containing the question, as well as related metadata that is useful for delivery and rendering to your end user</li>
</ul></li>
</ul>

<table><thead>
<tr>
<th>Key</th>
<th>Value</th>
</tr>
</thead><tbody>
<tr>
<td>keyword</td>
<td>The keyword used to provide entropy during generation, if a keyword is fixed, you&#39;ll receive this keyword in return</td>
</tr>
<tr>
<td>question</td>
<td>The text of the question, including line breaks and LaTeX math formatting</td>
</tr>
<tr>
<td>answer</td>
<td>An array of JSON objects consist of answer text and mark pairs. Our mark scheme is designed to followed progressively, step by step awarding marks. In some cases, marks will return <code>0</code> for a line in the mark scheme, this typically indicates that the line is an additional information note</td>
</tr>
<tr>
<td>marks</td>
<td>Note that for longer questions, the marks in the answer may not add up to the marks included in the metadata. This is because the question may have multiple solutions for which we&#39;ve provided different methods and shown how they would be marked. the marks key in the main body indicates the actual marks value of the question</td>
</tr>
</tbody></table>
<h3 id='errors'>Errors</h3>
<ul>
<li><strong>500</strong>

<ul>
<li><em>GENERATOR_CALL_FAILED</em> - The generator didn&#39;t respond to our API server, this may be indicative of a server
update or maintenance period. If this problem persists, please contact support and we will investigate.</li>
<li><em>GENERATOR_FAILED</em> - Generally indicates that material with the given parameters could not be generated. Typically indicative of a bad generation request, but may be due to failed generation. You will not be billed for any failed generation attempts.</li>
</ul></li>
<li><strong>400</strong>

<ul>
<li><em>INCORRECT_REQUEST_CONTENT</em> - Content provided was not in a valid format, or was incomplete. In 
most cases, this means <em>type is incorrect</em> e.g. marks is a string, not a number, <em>something was missing</em>
e.g. you asked for a specific material but didn&#39;t provide an ID, <em>something is invalid value</em>, you gave
an argument which didn&#39;t conform to the required value.
Note, not all of our server side validation does sense checking, if you send two values which are contradictory
our server may not recognise this as an incorrect request. Validation is not a substitution for a well formed
request. Provides <em>invalid</em> to show what data it thinks is invalid</li>
<li><em>MISSING_REQUEST_CONTENT</em> - Content was specifically missing that was required. Generally speaking this means
you&#39;ve missed a request parameter that is explicitly required.</li>
</ul></li>
<li><strong>401</strong>

<ul>
<li><em>MISSING_AUTHENTICATION_HEADERS</em> - The required authentication headers were not included in the
request, we recommend checking for typos, or null values in your <code>tryal-app-id</code> and <code>tryal-app-token</code>
variables</li>
<li><em>INVALID_APPLICATION_TOKEN</em> - The application with the given id <code>tryal-app-id</code> does not correspond to
the token provided, most likely, your ID is correct, however your token is incorrect</li>
</ul></li>
<li><strong>403</strong>

<ul>
<li><em>NO_SUBSCRIPTION</em> - The account associated with this application does not currently have an active
subscription, or the billing is in arrears and access has been suspended.</li>
</ul></li>
<li><strong>404</strong>

<ul>
<li><em>APPLICATION_NOT_FOUND</em> - An application with the given <code>tryal-app-id</code> could not be found in our
currently listed active applications</li>
</ul></li>
</ul>
<h1 id='manage-api'>Manage API</h1>
<p>Our Tryal.AI Manage API is provided as a way for you to see your billing and get information useful to yourself and your application. As we develop out our API further, we&#39;d love to hear what aspects you&#39;d like to be able to control of Tryal.AI remotely.</p>

<p>For now the manage API allows you to access your usage via <a href="#get-usage"><span class="get">get</span> /usage</a>.</p>
<h1 id='get-usage'><span class="get">GET</span> /usage</h1><h2 id='get-all-usage-for-this-application'>Get All Usage for this application</h2>
<blockquote>
<p>Allows you to retrieve a record of all usage for this application</p>
</blockquote>
<div class="highlight"><pre class="highlight shell tab-shell"><code><span class="c">#Authorisation headers omitted</span>
curl <span class="s2">"https://api.tryal.ai/usage"</span>
</code></pre></div><div class="highlight"><pre class="highlight javascript tab-javascript"><code><span class="c1">// We recommend cross-fetch to write easy HTTP requests</span>
<span class="kd">var</span> <span class="nx">fetch</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="dl">'</span><span class="s1">cross-fetch</span><span class="dl">'</span><span class="p">);</span>

<span class="c1">// Promise based request</span>
<span class="kd">var</span> <span class="nx">promise</span> <span class="o">=</span> <span class="nx">fetch</span><span class="p">(</span><span class="dl">'</span><span class="s1">https://api.tryal.ai/usage</span><span class="dl">'</span><span class="p">,</span> <span class="p">{</span>
  <span class="na">method</span><span class="p">:</span> <span class="dl">'</span><span class="s1">get</span><span class="dl">'</span><span class="p">,</span>
  <span class="na">headers</span><span class="p">:</span> <span class="p">{</span>
    <span class="dl">'</span><span class="s1">Content-Type</span><span class="dl">'</span><span class="p">:</span> <span class="dl">'</span><span class="s1">application/json</span><span class="dl">'</span>
    <span class="c1">//Authorisation headers omitted</span>
  <span class="p">},</span> 
<span class="p">}).</span><span class="nx">then</span><span class="p">(</span><span class="kd">function</span><span class="p">(</span><span class="nx">res</span><span class="p">)</span> <span class="p">{</span>
  <span class="k">if</span> <span class="p">(</span><span class="nx">res</span><span class="p">.</span><span class="nx">status</span> <span class="o">!==</span> <span class="mi">200</span><span class="p">)</span> <span class="p">{</span>
    <span class="c1">//handle failed response</span>
  <span class="p">}</span> <span class="k">else</span> <span class="p">{</span>
    <span class="c1">// unpack the response JSON</span>
    <span class="nx">res</span><span class="p">.</span><span class="nx">json</span><span class="p">().</span><span class="nx">then</span><span class="p">(</span><span class="nx">responseBody</span><span class="p">)</span> <span class="p">{</span>
      <span class="c1">//Creates output as shown below</span>
      <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">responseBody</span><span class="p">)</span>
    <span class="p">}</span>
  <span class="p">}</span>
<span class="p">}).</span><span class="k">catch</span><span class="p">(</span><span class="kd">function</span><span class="p">(</span><span class="nx">err</span><span class="p">)</span> <span class="p">{</span>
  <span class="c1">//Handle any errors</span>
<span class="p">});</span>
</code></pre></div><div class="highlight"><pre class="highlight javascript tab-javascript--ESNext"><code><span class="c1">// We recommend cross-fetch to write easy HTTP requests</span>
<span class="k">import</span> <span class="nx">fetch</span> <span class="k">from</span> <span class="dl">'</span><span class="s1">cross-fetch</span><span class="dl">'</span><span class="p">;</span>

<span class="kd">const</span> <span class="nx">REQUEST_ERROR</span> <span class="o">=</span> <span class="p">{</span>
  <span class="na">message</span><span class="p">:</span> <span class="dl">'</span><span class="s1">Our request to Tryal.AI failed</span><span class="dl">'</span>
<span class="p">}</span>

<span class="k">async</span> <span class="kd">function</span> <span class="nx">getUsage</span><span class="p">()</span> <span class="p">{</span>
  <span class="k">try</span> <span class="p">{</span>
    <span class="kd">const</span> <span class="nx">response</span> <span class="o">=</span> <span class="k">await</span> <span class="nx">fetch</span><span class="p">(</span><span class="s2">`https://api.tryal.ai/usage`</span><span class="p">,</span> <span class="p">{</span>
      <span class="na">method</span><span class="p">:</span> <span class="dl">'</span><span class="s1">get</span><span class="dl">'</span><span class="p">,</span>
      <span class="na">headers</span><span class="p">:</span> <span class="p">{</span>
        <span class="dl">'</span><span class="s1">Content-Type</span><span class="dl">'</span><span class="p">:</span> <span class="dl">'</span><span class="s1">application/json</span><span class="dl">'</span>
        <span class="c1">//Authorisation headers omitted</span>
      <span class="p">},</span>
    <span class="p">});</span>
    <span class="k">if</span> <span class="p">(</span><span class="nx">response</span><span class="p">.</span><span class="nx">status</span> <span class="o">==</span> <span class="mi">200</span><span class="p">)</span> <span class="p">{</span>
      <span class="c1">//Produces result shown</span>
      <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="k">await</span> <span class="nx">response</span><span class="p">.</span><span class="nx">json</span><span class="p">());</span>
    <span class="p">}</span> <span class="k">else</span> <span class="p">{</span>
      <span class="k">throw</span> <span class="nx">REQUEST_ERROR</span>
    <span class="p">}</span>
  <span class="p">}</span> <span class="k">catch</span><span class="p">(</span><span class="nx">err</span><span class="p">)</span> <span class="p">{</span>
    <span class="c1">// Do error handling</span>
  <span class="p">}</span>
<span class="p">}</span>
</code></pre></div>
<blockquote>
<p>The above command returns JSON structured like this:</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">[</span><span class="w">
  </span><span class="p">{</span><span class="w">
    </span><span class="nl">"when"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2020-09-13T19:27:27.228Z"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"marks"</span><span class="p">:</span><span class="w"> </span><span class="mi">80</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="p">{</span><span class="w">
    </span><span class="nl">"when"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2020-09-14T11:48:17.237Z"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"marks"</span><span class="p">:</span><span class="w"> </span><span class="mi">5</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="err">//</span><span class="w"> </span><span class="err">More</span><span class="w"> </span><span class="err">Tryals</span><span class="w"> </span><span class="err">omitted</span><span class="w">
</span><span class="p">]</span><span class="w">
</span></code></pre></div>
<p>The usage results are very basic and designed to give you a clear overview of how many marks where used and when for this application. For a full usage report across all your applications, you&#39;ll need to log in to your dashboard.</p>

<p>For your security, we do not include full usage access with any application API, meaning that this application can only access information it produced itself.</p>
<h3 id='http-request'>HTTP Request</h3>
<p><code>GET https://api.tryal.ai/usage</code></p>
<h3 id='body-parameters'>Body Parameters</h3>
<p>There are currently no parameters for usage, we may release non-breaking additional parameters in the future</p>
<h3 id='billing'>Billing</h3>
<p>There is no applicable fee for accessing your usage.</p>
<h3 id='response'>Response</h3>
<ul>
<li><strong>200</strong>

<ul>
<li>An array of usage, catalogued by when and how much</li>
</ul></li>
</ul>

<table><thead>
<tr>
<th>Key</th>
<th>Value</th>
</tr>
</thead><tbody>
<tr>
<td><code>when</code></td>
<td>An ISO DateTime String indicating when the usage occurred</td>
</tr>
<tr>
<td><code>marks</code></td>
<td>The number of marks this usage instance consisted of</td>
</tr>
</tbody></table>
<h3 id='errors'>Errors</h3>
<ul>
<li><strong>401</strong>

<ul>
<li><em>MISSING_AUTHENTICATION_HEADERS</em> - The required authentication headers were not included in the
request, we recommend checking for typos, or null values in your <code>tryal-app-id</code> and <code>tryal-app-token</code>
variables</li>
<li><em>INVALID_APPLICATION_TOKEN</em> - The application with the given id <code>tryal-app-id</code> does not correspond to
the token provided, most likely, your ID is correct, however your token is incorrect</li>
</ul></li>
<li><strong>403</strong>

<ul>
<li><em>NO_SUBSCRIPTION</em> - The account associated with this application does not currently have an active
subscription, or the billing is in arrears and access has been suspended.</li>
</ul></li>
<li><strong>404</strong>

<ul>
<li><em>APPLICATION_NOT_FOUND</em> - An application with the given <code>tryal-app-id</code> could not be found in our
currently listed active applications</li>
</ul></li>
</ul>
<h1 id='get-version'><span class="get">GET</span> /version</h1><h2 id='get-the-current-api-version'>Get the current API version</h2>
<blockquote>
<p>Allows to get the current API version</p>
</blockquote>
<div class="highlight"><pre class="highlight shell tab-shell"><code><span class="c">#Authorisation headers omitted</span>
curl <span class="s2">"https://api.tryal.ai/version"</span>
</code></pre></div><div class="highlight"><pre class="highlight javascript tab-javascript"><code><span class="c1">// We recommend cross-fetch to write easy HTTP requests</span>
<span class="kd">var</span> <span class="nx">fetch</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="dl">'</span><span class="s1">cross-fetch</span><span class="dl">'</span><span class="p">);</span>

<span class="c1">// Promise based request</span>
<span class="kd">var</span> <span class="nx">promise</span> <span class="o">=</span> <span class="nx">fetch</span><span class="p">(</span><span class="dl">'</span><span class="s1">https://api.tryal.ai/version</span><span class="dl">'</span><span class="p">,</span> <span class="p">{</span>
  <span class="na">method</span><span class="p">:</span> <span class="dl">'</span><span class="s1">get</span><span class="dl">'</span><span class="p">,</span>
  <span class="na">headers</span><span class="p">:</span> <span class="p">{</span>
    <span class="dl">'</span><span class="s1">Content-Type</span><span class="dl">'</span><span class="p">:</span> <span class="dl">'</span><span class="s1">application/json</span><span class="dl">'</span>
    <span class="c1">//Authorisation headers omitted</span>
  <span class="p">},</span> 
<span class="p">}).</span><span class="nx">then</span><span class="p">(</span><span class="kd">function</span><span class="p">(</span><span class="nx">res</span><span class="p">)</span> <span class="p">{</span>
  <span class="k">if</span> <span class="p">(</span><span class="nx">res</span><span class="p">.</span><span class="nx">status</span> <span class="o">!==</span> <span class="mi">200</span><span class="p">)</span> <span class="p">{</span>
    <span class="c1">//handle failed response</span>
  <span class="p">}</span> <span class="k">else</span> <span class="p">{</span>
    <span class="c1">// unpack the response JSON</span>
    <span class="nx">res</span><span class="p">.</span><span class="nx">text</span><span class="p">().</span><span class="nx">then</span><span class="p">(</span><span class="nx">responseBody</span><span class="p">)</span> <span class="p">{</span>
      <span class="c1">//Creates output as shown below</span>
      <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">responseBody</span><span class="p">)</span>
    <span class="p">}</span>
  <span class="p">}</span>
<span class="p">}).</span><span class="k">catch</span><span class="p">(</span><span class="kd">function</span><span class="p">(</span><span class="nx">err</span><span class="p">)</span> <span class="p">{</span>
  <span class="c1">//Handle any errors</span>
<span class="p">});</span>
</code></pre></div><div class="highlight"><pre class="highlight javascript tab-javascript--ESNext"><code><span class="c1">// We recommend cross-fetch to write easy HTTP requests</span>
<span class="k">import</span> <span class="nx">fetch</span> <span class="k">from</span> <span class="dl">'</span><span class="s1">cross-fetch</span><span class="dl">'</span><span class="p">;</span>

<span class="kd">const</span> <span class="nx">REQUEST_ERROR</span> <span class="o">=</span> <span class="p">{</span>
  <span class="na">message</span><span class="p">:</span> <span class="dl">'</span><span class="s1">Our request to Tryal.AI failed</span><span class="dl">'</span>
<span class="p">}</span>

<span class="k">async</span> <span class="kd">function</span> <span class="nx">getVersion</span><span class="p">()</span> <span class="p">{</span>
  <span class="k">try</span> <span class="p">{</span>
    <span class="kd">const</span> <span class="nx">response</span> <span class="o">=</span> <span class="k">await</span> <span class="nx">fetch</span><span class="p">(</span><span class="s2">`https://api.tryal.ai/version`</span><span class="p">,</span> <span class="p">{</span>
      <span class="na">method</span><span class="p">:</span> <span class="dl">'</span><span class="s1">get</span><span class="dl">'</span><span class="p">,</span>
      <span class="na">headers</span><span class="p">:</span> <span class="p">{</span>
        <span class="dl">'</span><span class="s1">Content-Type</span><span class="dl">'</span><span class="p">:</span> <span class="dl">'</span><span class="s1">application/json</span><span class="dl">'</span>
        <span class="c1">//Authorisation headers omitted</span>
      <span class="p">},</span>
    <span class="p">});</span>
    <span class="k">if</span> <span class="p">(</span><span class="nx">response</span><span class="p">.</span><span class="nx">status</span> <span class="o">==</span> <span class="mi">200</span><span class="p">)</span> <span class="p">{</span>
      <span class="c1">//Produces result shown</span>
      <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="k">await</span> <span class="nx">response</span><span class="p">.</span><span class="nx">text</span><span class="p">());</span>
    <span class="p">}</span> <span class="k">else</span> <span class="p">{</span>
      <span class="k">throw</span> <span class="nx">REQUEST_ERROR</span>
    <span class="p">}</span>
  <span class="p">}</span> <span class="k">catch</span><span class="p">(</span><span class="nx">err</span><span class="p">)</span> <span class="p">{</span>
    <span class="c1">// Do error handling</span>
  <span class="p">}</span>
<span class="p">}</span>
</code></pre></div>
<blockquote>
<p>The above command returns a version string</p>
</blockquote>
<div class="highlight"><pre class="highlight plaintext"><code>v1.0.0
</code></pre></div>
<p>The version endpoint lets your retrieve the current version of the API. This is mostly useful for testing endpoint accessibility. Particularly, this endpoint will only serve authenticated applications, so it&#39;s a good way to test if credentials work.</p>
<h3 id='http-request'>HTTP Request</h3>
<p><code>GET https://api.tryal.ai/version</code></p>
<h3 id='body-parameters'>Body Parameters</h3>
<p>There are currently no parameters for version. We have no plan to change this</p>
<h3 id='billing'>Billing</h3>
<p>There is no applicable fee for accessing the version.</p>
<h3 id='response'>Response</h3>
<ul>
<li><strong>200</strong>

<ul>
<li>A text string with the current version number</li>
</ul></li>
</ul>
<h3 id='errors'>Errors</h3>
<ul>
<li><strong>401</strong>

<ul>
<li><em>MISSING_AUTHENTICATION_HEADERS</em> - The required authentication headers were not included in the
request, we recommend checking for typos, or null values in your <code>tryal-app-id</code> and <code>tryal-app-token</code>
variables</li>
<li><em>INVALID_APPLICATION_TOKEN</em> - The application with the given id <code>tryal-app-id</code> does not correspond to
the token provided, most likely, your ID is correct, however your token is incorrect</li>
</ul></li>
<li><strong>403</strong>

<ul>
<li><em>NO_SUBSCRIPTION</em> - The account associated with this application does not currently have an active
subscription, or the billing is in arrears and access has been suspended.</li>
</ul></li>
<li><strong>404</strong>

<ul>
<li><em>APPLICATION_NOT_FOUND</em> - An application with the given <code>tryal-app-id</code> could not be found in our
currently listed active applications</li>
</ul></li>
</ul>
<h1 id='licencing-and-usage'>Licencing and Usage</h1>
<p>Tryal.AI material is designed to be quick to produce and precise in its content. When using Tryal.AI&#39;s service, all material produced for you is owned by Tryal.AI. Material is provided to your service under licence, that remains in effect for as long you have a Developer subscription with Tryal.AI. </p>

<p>If you choose to cancel your subscription with us, or your subscription is suspended due to violation of our terms of service, your rights to redistribute material produced by Tryal.AI for you (both via our online platform, or via our developer APIs) cease with immediate effect. </p>

<p>Any material produced through our <code>/tryals</code> service must retain all copyright notices attached, as per our terms of service. Questions provided via our <code>/questions</code> service do not need to carry a copyright notice, but are subject to same licencing restrictions detailed above.</p>
<h1 id='errors'>Errors</h1><div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
    </span><span class="nl">"status"</span><span class="p">:</span><span class="w"> </span><span class="mi">400</span><span class="p">,</span><span class="w">
    </span><span class="nl">"message"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Request body for this endpoint was missing content or had invalid content"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"errorCode"</span><span class="p">:</span><span class="w"> </span><span class="s2">"INCORRECT_REQUEST_CONTENT"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"invalidArgs"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
        </span><span class="s2">"id"</span><span class="w">
    </span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">

</span><span class="p">{</span><span class="w">
    </span><span class="nl">"status"</span><span class="p">:</span><span class="w"> </span><span class="mi">500</span><span class="p">,</span><span class="w">
    </span><span class="nl">"message"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Something went wrong on a Tryal.AI Server, if this issue persists please contact support"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"errorCode"</span><span class="p">:</span><span class="w"> </span><span class="s2">"SERVER_SIDE_ERROR"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"supportCode"</span><span class="p">:</span><span class="w"> </span><span class="s2">"018A"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<p>Errors are listed below each endpoint detailing why they typically occur. All errors Tryal.AI returns have a JSON body. To test if a call failed, you should check if a call returned 200. If not, you can still safely unpack a JSON body, as all failed calls respond with JSON.</p>

<p>In general, most errors indicate only one possible problem, e.g. <em>NO_SUBSCRIPTION</em> is pretty self explanatory. In some cases, errors contain more detailed information. The errors on the left are some notable exceptions. Generally when validating request bodies and parameters, we try to indicate what arguments we think are invalid. </p>

<p>No programmer plans to write code that crashes or has bugs in, but it is possible, and even inevitable that some bugs do emerge. Tryal.AI is designed to fail gracefully when this happens. Any failure on our server is indicated with a <code>errorCode: &quot;SERVER_SIDE_ERROR&quot;</code>. A supportCode is attached, which should be used when reporting the issue, as well as information about what you were trying to do when making a call. </p>

<aside class="notice">
    Issues can be reported via our online dashboard.
</aside>

      </div>
      <div class="dark-box">
          <div class="lang-selector">
                <a href="#" data-language-name="shell">Shell</a>
                <a href="#" data-language-name="javascript">JavaScript</a>
                <a href="#" data-language-name="javascript--ESNext">JavaScript (ESNext)</a>
          </div>
      </div>
    </div>
  </body>
</html>
